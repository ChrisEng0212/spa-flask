webpackJsonp([5],{"4Qjk":function(t,s){},N7IE:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=e("fZjL"),r=e.n(o),a=e("Dd8w"),i=e.n(a),n={data:function(){return{master:this.classRecords,counterKeys:{transEng:"English Test",transCh:"Chinese Test",typeTest:"Type Test",matchTrans:"Match",matchType:"Type Match"},scoreShow:{},pictShow:{},waiting:!1,instrucorLogs:{},pields:[{key:"link",label:"Picture",sortable:!0},{key:"def",label:"Info",sortable:!0},{key:"status",label:"Record",sortable:!0}]}},methods:{saveRecords:function(){alert("saving data");var t={};for(var s in this.classRecords)t[s]=this.classRecords[s].setRecord.dictRecord;this.$store.dispatch("instructorLogs",{notes:t,group:this.$store.state.classLoad,action:"setNotes"})},getClass:function(t){this.waiting=!0,this.$store.dispatch("instructorLogs",{group:t,action:"getNotesInstructor"}),this.$store.dispatch("classRecords",{userID:this.$store.state.userProfile.userID,classroom:t})},getPictArray:function(t){var s=[];for(var e in t)s.push(t[e]);return console.log("pictList",s),s},getVariant:function(t){return{strong:"spanDiv bg-safe-light text-prime",good:"spanDiv bg-third text-prime",okay:"spanDiv bg-grey text-prime",weak:"spanDiv bg-warn-light text-prime",problem:"spanDiv bg-alert-light text-prime","not tested":"spanDiv bg-cream text-prime"}[t]},showScores:function(t){this.scoreShow[t]&&0!==this.scoreShow[t]?this.scoreShow[t]=0:this.scoreShow[t]=1,this.scoreShow=i()({},this.scoreShow),console.log(t,this.scoreShow)},showPicts:function(t){this.pictShow[t]&&0!==this.pictShow[t]?this.pictShow[t]=0:this.pictShow[t]=1,this.pictShow=i()({},this.pictShow),console.log(t,this.pictShow)},valueSum:function(t){var s=0;for(var e in t)s+=t[e];return s},getLength:function(t){return delete t.add,r()(t).length},getDates:function(t){var s={};for(var e in t){var o=e.substring(4,7);s[o]||"ce"===o?"ce"!==o&&(s[o]+=1):s[o]=1}return s},getImage:function(t,s,e,o){if("add"===s)return"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/add.jpg";var r="https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/profiles/"+e+"/"+o+"/"+t+s+".jpg";return console.log(r),r},userRecItems:function(t){var s={transEng:{strong:0,good:0,okay:0,weak:0,problem:0},transCh:{strong:0,good:0,okay:0,weak:0,problem:0},typeTest:{strong:0,good:0,okay:0,weak:0,problem:0},matchTrans:{strong:0,good:0,okay:0,weak:0,problem:0},matchType:{strong:0,good:0,okay:0,weak:0,problem:0}};for(var e in t)for(var o in t[e]){var r=t[e][o];r>=2?s[e].strong+=1:1===r?s[e].good+=1:0===r?s[e].okay+=1:-1===r?s[e].weak+=1:r<=-2&&(s[e].problem+=1)}return s},vocabCount:function(t,s){var e={};for(var o in t)for(var a in t[o])e[a]=1;return r()(e).length}},created:function(){this.$store.dispatch("classGroups",{userID:this.$store.state.userProfile.userID})},computed:{classRecords:function(){return this.$store.getters.classRecords},classGroups:function(){return this.$store.getters.classGroups}},watch:{classRecords:function(){if(null!==this.classRecords)for(var t in this.classRecords)for(var s in this.classRecords[t].setRecord.dictRecord)this.classRecords[t].setRecord.dictRecord[s].note=null,this.classRecords[t].setRecord.dictRecord[s].status=null;console.log("classRecords Redux",this.classRecords)}}},c={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"instructor"}},[e("div",{staticClass:"mt-2 bg-second p-2 head"},[e("div",{staticClass:"ml-2"},[e("b-row",[e("b-col",[e("h3",{staticClass:"text-cream"},[t._v(" Instructor Dashboard ")])])],1)],1)]),t._v(" "),e("div",{staticClass:"bg-white"},[e("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),e("tbody",t._l(t.classGroups,function(s,o){return e("tr",{key:o},[e("th",{attrs:{scope:"row"}},[t._v(t._s(o))]),t._v(" "),e("td",[t._v(t._s(s.code))]),t._v(" "),e("td",[t._v(" "+t._s(s.count))]),t._v(" "),e("td",[e("button",{staticClass:"buttonDiv bg-info px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){return t.getClass(s.code)}}},[e("b-icon-arrow-clockwise",{attrs:{variant:"cream","font-scale":"1.5"}})],1)])])}),0)])]),t._v(" "),e("div",{staticClass:"mt-2 bg-second p-2 head"},[e("div",{staticClass:"ml-2"},[e("b-row",[e("b-col",[e("h3",{staticClass:"text-cream"},[t._v(" Class: "+t._s(t.$store.state.classLoad)+" ")])]),t._v(" "),e("b-col",{attrs:{align:"right"}},[e("button",{staticClass:"buttonDiv bg-alert text-cream px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(s){return t.saveRecords()}}},[t._v("\n                      SAVE\n          ")])])],1)],1)]),t._v(" "),t.classRecords?e("div",{staticClass:"bg-white mt-0 p-0"},[e("table",{staticClass:"table table-striped"},[t._m(1),t._v(" "),e("tbody",[t._l(t.classRecords,function(s,o){return[e("tr",{key:o},[e("td",{staticStyle:{width:"150px"}},[t._v(t._s(o)+"# "+t._s(s.user))]),t._v(" "),e("td",[e("b-form-select",{staticStyle:{width:"50px","overflow-y":"hidden"}},t._l(t.getDates(s.logsRecord.logs),function(s,o){return e("option",{key:s[0]},[t._v(" "+t._s(o)+": "+t._s(s)+"  ")])}),0)],1),e("td",[e("div",{staticStyle:{width:"70px",display:"inline-block"}},[e("b-icon-star-fill",{attrs:{variant:"warning","font-scale":"1.5"}}),t._v(" "+t._s(t.getLength(s.setRecord.starRecord))+"\n                          ")],1),t._v(" "),e("div",{staticStyle:{display:"inline-block"}},[e("b-form-select",{staticStyle:{width:"100px","overflow-y":"hidden"}},t._l(s.setRecord.starRecord,function(s,o){return e("option",{key:o},[t._v(" "+t._s(o)+" ")])}),0)],1)]),t._v(" "),e("td",[e("div",{staticStyle:{width:"70px",display:"inline-block"}},[e("b-icon-images",{attrs:{variant:"safe","font-scale":"1.5"},on:{click:function(s){return t.showPicts(o)}}}),t._v(" "+t._s(t.getLength(s.setRecord.dictRecord))+"\n                          ")],1),t._v(" "),e("div",{staticStyle:{display:"inline-block"}},[e("b-form-select",{staticStyle:{width:"100px","overflow-y":"hidden",display:"inline"}},t._l(s.setRecord.dictRecord,function(s,o){return e("option",{key:o},[t._v(" "+t._s(o)+" ")])}),0)],1)]),t._v(" "),e("td",[e("div",{staticStyle:{width:"70px",display:"inline-block"}},[e("b-icon-arrow-up-circle-fill",{attrs:{variant:"info","font-scale":"1.5"}}),t._v(" "+t._s(t.getLength(s.setRecord.addRecord))+"\n                          ")],1),t._v(" "),e("div",{staticStyle:{display:"inline-block"}},[e("b-form-select",{staticStyle:{width:"100px","overflow-y":"hidden"}},t._l(s.setRecord.addRecord,function(s,o){return e("option",{key:o},[t._v(" "+t._s(o)+" ")])}),0)],1)]),t._v(" "),e("td",[e("b-icon",{attrs:{icon:"bar-chart-fill",variant:"alert","font-scale":"1.5"},on:{click:function(s){return t.showScores(o)}}}),t._v(" "+t._s(t.vocabCount(s.userRecord,s.user))+"\n                        ")],1)]),t._v(" "),e("transition",{key:o,attrs:{name:"tableboard"}},[o.toString()in t.scoreShow&&1===t.scoreShow[o.toString()]?e("tr",[e("td",{attrs:{colspan:"6"}},t._l(t.userRecItems(s.userRecord),function(s,o){return e("b-row",{key:o},[e("b-col",{attrs:{cols:"2",align:"right"}},[t._v("\n                                  "+t._s(t.counterKeys[o])+"\n                                ")]),t._v(" "),e("b-col",[t.valueSum(s)>0?e("div",[e("b-progress",{staticStyle:{height:"20px"},attrs:{"show-value":""}},[e("b-progress-bar",{attrs:{value:s.problem,variant:t.getVariant("problem")}}),t._v(" "),e("b-progress-bar",{attrs:{value:s.weak,variant:t.getVariant("weak")}}),t._v(" "),e("b-progress-bar",{attrs:{value:s.okay,variant:t.getVariant("okay")}}),t._v(" "),e("b-progress-bar",{attrs:{value:s.good,variant:t.getVariant("good")}}),t._v(" "),e("b-progress-bar",{attrs:{value:s.strong,variant:t.getVariant("strong")}})],1)],1):t._e()])],1)}),1)]):t._e()]),t._v(" "),e("transition",{key:o,attrs:{name:"tableboard"}},[o.toString()in t.pictShow&&1===t.pictShow[o.toString()]?e("tr",[e("td",{attrs:{colspan:"6"}},[e("b-table",{attrs:{striped:"",hover:"",items:t.getPictArray(s.setRecord.dictRecord),fields:t.pields,"head-variant":"dark"},scopedSlots:t._u([{key:"cell(link)",fn:function(s){return[e("h5",[t._v(" "+t._s(s.item.word)+" ")]),t._v(" "),e("h5",[t._v(" "+t._s(s.item.chinese)+" ")]),t._v(" "),e("b-img",{staticStyle:{"max-width":"100px"},attrs:{thumbnail:"",fluid:"",src:t.getImage(s.item.word,s.item.link,o,s.item.vocab)}})]}},{key:"cell(def)",fn:function(s){return[e("span",{staticStyle:{color:"green"}},[t._v(" "+t._s(s.value)+" ")]),t._v(" "),e("hr"),t._v("\n                              "+t._s(s.item.text)+"\n\n                              "),e("hr"),t._v(" "),e("b-form-input",{attrs:{placeholder:"Add Note"},model:{value:s.item.note,callback:function(e){t.$set(s.item,"note",e)},expression:"data.item.note"}})]}},{key:"cell(status)",fn:function(s){return[e("b-form-select",{staticStyle:{width:"100px","overflow-y":"hidden"},model:{value:s.item.status,callback:function(e){t.$set(s.item,"status",e)},expression:"data.item.status"}},t._l([0,1,2,3],function(s,o){return e("option",{key:o},[t._v(" "+t._s(s)+" ")])}),0)]}}],null,!0)})],1)]):t._e()])]})],2)])]):t.waiting?e("div",{staticClass:"bg-smoke",attrs:{align:"center"}},[e("br"),t._v(" "),e("br"),t._v(" "),e("h4",{staticClass:"text-prime"},[t._v(" Loading Data ")]),t._v(" "),e("b-icon",{attrs:{icon:"three-dots",animation:"cylon",variant:"prime","font-scale":"6"}}),t._v(" "),e("br"),t._v(" "),e("br")],1):t._e()])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[this._v("#")]),this._v(" "),s("th",{attrs:{scope:"col"}},[this._v("Class")]),this._v(" "),s("th",{attrs:{scope:"col"}},[this._v("Students")]),this._v(" "),s("th",{attrs:{scope:"col"}},[this._v("Load")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Student")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Logs")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Favs")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Pics")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Adds")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Stats")])])])}]};var l=e("VU/8")(n,c,!1,function(t){e("4Qjk")},"data-v-a318f84a",null);s.default=l.exports}});
//# sourceMappingURL=5.25ff2cf1751ecd6f1c2d.js.map