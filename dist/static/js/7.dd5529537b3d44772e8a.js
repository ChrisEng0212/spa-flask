webpackJsonp([7],{"1sIO":function(t,e){},UIH9:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("0xDb"),a=s("gyMJ"),i={name:"Dictionary",props:{s3:String},data:function(){return{fields:[{key:"English",label:"Vocab",sortable:!0},{key:"Gr",label:"Gr.",sortable:!1},{key:"ChineseExt",label:"Chinese",sortable:!0}],fields2:[{key:"English",label:"Vocab",sortable:!0},{key:"ChineseExt",label:"Chinese",sortable:!0}],tableItems:null,selected:[null,null,null],sMarker:null,optionsA:[{value:null,text:"---"}],optionsG:[{value:null,text:"---"},{value:"v.",text:"verbs"},{value:"adj.",text:"adjectives"},{value:"n.",text:"nouns"},{value:"phr.",text:"phrases"},{value:"abbr.",text:"abbreviations"},{value:"prop.",text:"proper nouns"}],optionsR:[{value:-2,text:"--"},{value:-1,text:"-"},{value:0,text:"o"},{value:1,text:"+"},{value:2,text:"++"}],color:{2:"safe",1:"third",0:"smoke","-1":"warn","-2":"alert"},entry:!0,imageData:null,newWord:{word:null,text:null},mainProps:{center:!0,fluidGrow:!0,"max-width":"50px",class:"my-5"},vocabList:null,waiting:!0,msg:"Action Complete",edit:!1,del:!1}},computed:{wordList:function(){return console.log("wordList",this.$store.state.dictRecord),this.$store.getters.dictGet},imageLink:function(){var t=this.$store.state.userProfile;return this.s3+t.userID+"/"+t.vocab+"/"}},methods:{filterTable:function(t,e){if(null!=e[2]){if(t.totalScore===e[2]&&t.tested)return!0}else{if(null!==e[1])return t.Category===e[0]&&t.Gr===e[1];if(t.Category===e[0])return!0}},alphabet:function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var e in t)this.optionsA.push({value:t[e],text:t[e]})},editWord:function(t){this.newWord.word=t},getVariant:function(t){var e="prime";for(var s in this.$store.state.dictRecord)s===t&&(e="safe");return e},playAudio:function(t,e){var s=document.getElementById(t+e);s.setAttribute("class","text-warn");var o=this.$store.state.userProfile.vocab[0],a="https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/"+this.$store.state.audioLinks[o]+e+t+".mp3",i=document.getElementById("audio");i.src=a,i.play(),i.onended=function(){s.setAttribute("class","text-prime")}},onSubmit:function(t){t.preventDefault(),this.saveWord()},handleFileUpload:function(){Object(o.c)(document.getElementById("file"))},saveWord:function(){this.waiting=!1,console.log(localStorage.imageData);var t=this;return Object(a.a)({imageData:localStorage.imageData,word:t.newWord,vocab:t.$store.state.userProfile.vocab,userID:t.$store.state.userProfile.userID}).then(function(e){console.log("response",e.data),t.$store.dispatch("newWord",{newWord:t.newWord}),t.newWord.word="a",t.newWord.text=null,localStorage.imageData=null,t.waiting=!0,t.msg="New word added",t.showModal()}).catch(function(e){t.msg="New word could not be added",t.showAlert(),console.log("Error Registering: ",e)})},showModal:function(){this.$refs.success.show()},showAlert:function(){this.$refs.fail.show()},hideModal:function(t){"success"===t?this.$refs.success.hide():(this.$refs.fail.hide(),this.msg=null,this.waiting=!0)},deleteWord:function(t){this.$store.dispatch("deleteWord",{word:t}),console.log(this.wordList),this.msg="Word deleted",this.showModal()}},watch:{selected:function(){this.selected[0]!==this.sMarker&&(this.selected[2]=null,this.sMarker=this.selected[0])}},created:function(){this.alphabet(),this.vocabList=this.$store.state.userProfile.vocab,this.tableItems=this.$store.getters.makeList,this.$store.getters.isAuthenticated||this.$router.push("login")},beforeMount:function(){this.$store.getters.isAuthenticated||this.$router.push("login")},beforeDestroy:function(){}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dict"},[s("audio",{attrs:{id:"audio"}}),t._v(" "),s("div",{staticClass:"mt-2 bg-second p-2",attrs:{align:"center"}},[t.newWord.word?s("div",[s("b-row",{attrs:{"align-h":"end"}},[s("b-col",{attrs:{cols:"6"}},[s("h3",{staticClass:"text-cream"},[t._v(" My Words ")])]),t._v(" "),s("b-col",{attrs:{cols:"3"}},[s("button",{staticClass:"buttonDiv bg-prime px-3",staticStyle:{width:"60px",float:"right"},on:{click:function(e){t.newWord.word=null}}},[s("b-icon-card-list",{attrs:{variant:"cream","font-scale":"1.5"}})],1)])],1)],1):s("div",[s("b-row",{attrs:{"align-h":"end"}},[s("b-col",{attrs:{cols:"6"}},[s("h2",{staticClass:"text-cream"},[t._v(" Word List ")])]),t._v(" "),s("b-col",{attrs:{cols:"3"}},[s("button",{staticClass:"buttonDiv bg-warn px-3",staticStyle:{width:"60px",float:"right"},on:{click:function(e){t.newWord.word="a"}}},[s("b-icon-images",{attrs:{variant:"cream","font-scale":"1.5"}})],1)])],1)],1)]),t._v(" "),t.newWord.word?t._e():s("div",{staticClass:"bg-grey p-2"},[s("b-row",[s("b-col",[t._v("\n        Search by Letter:\n        "),s("b-form-select",{staticClass:"bg-warn-light",attrs:{options:t.optionsA,"select-size":7},on:{change:function(e){t.selected[2]=null,t.sMarker=t.selected[0]}},model:{value:t.selected[0],callback:function(e){t.$set(t.selected,0,e)},expression:"selected[0]"}})],1),t._v(" "),s("b-col",[t._v("\n        Search by Grammar:\n        "),s("b-form-select",{staticClass:"bg-third",staticStyle:{"overflow-y":"hidden"},attrs:{options:t.optionsG,"select-size":7},on:{change:function(e){t.selected[2]=null}},model:{value:t.selected[1],callback:function(e){t.$set(t.selected,1,e)},expression:"selected[1]"}})],1)],1),t._v(" "),s("b-row",{staticClass:"mt-3 pb-3",attrs:{align:"center"}},[s("b-col",[t._v("\n          Search by Score:\n          "),s("br"),t._v(" "),s("br"),t._v(" "),s("b-form-group",[s("b-form-radio-group",{staticStyle:{width:"100%",color:"red"},attrs:{id:"btn-radios-2",options:t.optionsR,buttons:"","button-variant":t.color[this.selected[2]],size:"lg",name:"radio-btn-outline"},model:{value:t.selected[2],callback:function(e){t.$set(t.selected,2,e)},expression:"selected[2]"}})],1)],1)],1)],1),t._v(" "),t.newWord.word?t._e():s("div",[s("b-table",{attrs:{striped:"",hover:"",items:t.tableItems,fields:t.fields,filter:t.selected,"filter-function":t.filterTable,"head-variant":"dark","sticky-header":"400px"},scopedSlots:t._u([{key:"cell(english)",fn:function(e){return[s("b-icon-card-image",{attrs:{variant:t.getVariant(e.value)},on:{click:function(s){return t.editWord(e.value)}}}),t._v("  \n           "+t._s(e.value)+"   \n           "),s("b-icon-soundwave",{staticClass:"text-prime",attrs:{id:e.value+"_en/"},on:{click:function(s){return t.playAudio(e.value,"_en/")}}}),t._v("    \n           "),s("b-icon-soundwave",{staticClass:"text-prime",attrs:{id:e.value+"_ch/"},on:{click:function(s){return t.playAudio(e.value,"_ch/")}}})]}}],null,!1,1709726934)})],1),t._v(" "),t.newWord.word&&"a"!==t.newWord.word?s("div",{staticClass:"bg-grey p-2"},[t.waiting?s("div",[s("b-form",{on:{submit:t.onSubmit}},[s("b-input-group",{staticClass:"my-2 p-6"},[s("b-input-group-prepend",{attrs:{inline:"","is-text":""}},[s("b-icon",{attrs:{icon:"hash"}})],1),t._v(" "),s("b-form-input",{attrs:{disabled:""},model:{value:t.newWord.word,callback:function(e){t.$set(t.newWord,"word",e)},expression:"newWord.word"}})],1),t._v(" "),s("b-form-file",{ref:"file",attrs:{accept:"image/*",placeholder:"Change Image",type:"file",id:"file"},on:{change:function(e){return t.handleFileUpload()}}}),t._v(" "),s("b-input-group",{staticClass:"my-2 p-6",attrs:{label:"Student ID:","label-for":"exampleInput2"}},[s("b-input-group-prepend",{attrs:{inline:"","is-text":""}},[s("b-icon",{attrs:{icon:"filter-left"}})],1),t._v(" "),s("b-form-textarea",{attrs:{placeholder:"Add Sentence",rows:"2"},model:{value:t.newWord.text,callback:function(e){t.$set(t.newWord,"text",e)},expression:"newWord.text"}})],1),t._v(" "),s("div",{staticClass:"d-flex justify-content-between"},[s("div",[s("button",{staticClass:"buttonDiv bg-safe px-3",staticStyle:{width:"120px"},attrs:{type:"submit"}},[s("b-icon-plus",{attrs:{variant:"cream","font-scale":"1.5"}})],1)])])],1)],1):s("div",{attrs:{align:"center"}},[s("h4",{staticClass:"text-prime"},[t._v(" Adding Picture ")]),t._v(" "),s("b-icon",{attrs:{icon:"three-dots",animation:"cylon",variant:"prime","font-scale":"6"}})],1)]):t._e(),t._v(" "),t.newWord.word?s("div",{staticClass:"bg-second p-2"},[s("b-row",{attrs:{align:"right"}},[s("b-col",[s("button",{staticClass:"buttonDiv bg-third text-prime",on:{click:function(e){t.edit=!t.edit}}},[t._v("Edit Words")]),t._v(" "),s("button",{staticClass:"buttonDiv bg-alert text-cream",on:{click:function(e){t.del=!t.del}}},[t._v(" Delete Word ")])])],1)],1):t._e(),t._v(" "),t.newWord.word?s("div",[s("table",{staticClass:"table table-striped table-hover table-sm table-borderless"},[s("tbody",t._l(t.wordList,function(e,o){return s("tr",{key:o},[s("td",{staticStyle:{"max-width":"300px"}},[s("span",[s("b-img",t._b({attrs:{thumbnail:"",fluid:"",src:t.imageLink+o+".jpg",alt:o}},"b-img",t.mainProps,!1))],1)]),t._v(" "),s("td",[s("h6",[t._v(t._s(o))])]),t._v(" "),s("td",[s("span",{staticClass:"pr-5"},[t._v(t._s(e))])]),t._v(" "),s("td",[t.edit?s("button",{staticClass:"buttonDiv bg-second text-third",on:{click:function(e){t.newWord.word=o,t.newWord.text=t.$store.state.dictRecord[o]}}},[t._v("Edit")]):t._e(),t._v(" "),t.del?s("button",{staticClass:"buttonDiv bg-alert",on:{click:function(e){return t.deleteWord(o)}}},[t._v(" Del")]):t._e()])])}),0)])]):t._e(),t._v(" "),s("b-modal",{ref:"success",attrs:{"hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":"",align:"center","hide-footer":"",title:"Picture Added"}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" "+t._s(t.msg)+" ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-warn text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("success")}}},[t._v("Close")])]),t._v(" "),s("b-modal",{ref:"fail",attrs:{"hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":"",align:"center","hide-footer":"",title:"Problem Found"}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" "+t._s(t.msg)+" ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-alert text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("fail")}}},[t._v("Close")])])],1)},staticRenderFns:[]};var r=s("VU/8")(i,n,!1,function(t){s("1sIO")},"data-v-4974299a",null);e.default=r.exports}});
//# sourceMappingURL=7.dd5529537b3d44772e8a.js.map