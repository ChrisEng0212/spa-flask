webpackJsonp([0],{"+yZv":function(t,e){},djO7:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("mvHQ"),i=s.n(o),n=s("0xDb"),a={name:"Toolbar",props:{toolbarShow:Boolean,showAnswers:Boolean,testType:String},data:function(){return{wordsReset:"6",words:6,choices:4,retry:!1,testItemsRoot:[],amendedList:[],selected:null,toolbarSettings:{},optionsA:[{value:null,text:"---"}],optionsG:[{value:null,text:"---"},{value:"v.",text:"verbs"},{value:"adj.",text:"adjectives"},{value:"n.",text:"nouns"},{value:"phr.",text:"phrases"},{value:"abbr.",text:"abbreviations"},{value:"prop.",text:"proper nouns"}],optionsR:[{value:null,text:"---"},{value:0,text:"neutral score"},{value:1,text:"easier words"},{value:-1,text:"harder words"}],label:"lbAn",labelOptions:[{text:"answer",value:"lbAn"},{text:"question",value:"lbQu"},{text:"all off",value:"lbOff"},{text:"all on",value:"lbOn"}],sort:"srtNone",sortOptions:[{text:"no sorting",value:"srtNone"},{text:"difficulty",value:"srtDiff"},{text:"grammar",value:"srtGram"},{text:"letter",value:"srtLet"}],sound:"sdEx",soundOptions:[{text:"exam mode",value:"sdEx"},{text:"automatic",value:"sdOn"},{text:"off",value:"sdOff"}],spelling:null,optionsO:[{value:null,text:"---"},{value:"const",text:"show vowels"},{value:"vowels",text:"show consonents"},{value:"blanks",text:"show blanks"},{value:"all",text:"show all"},{value:"showFL",text:"show words"},{value:"typos",text:"typos"},{value:"scramble",text:"scramble letter"}],special:null,optionsS:[{value:null,text:"---"},{value:"punc",text:"punctuation"},{value:"phr.",text:"phrases"},{value:"abbr.",text:"abbreviations"},{value:"prop.",text:"proper nouns"}],display:"ch_text_On",displayOptions:[{text:"Chinese",value:"ch_text_On"},{text:"Label",value:"ch_lb_On"},{text:"None",value:"ch_lb_Off"}],feedback:"fbConst",feedbackOptions:[{text:"Constant",value:"fbConst"},{text:"Complete",value:"fbComp"},{text:"None",value:"fbNone"}]}},methods:{makeTest:function(){this.testItemsRoot=[];var t=JSON.parse(this.stringItems);if(this.amendedList=[],"srtNone"===this.sort&&null===this.special)this.amendedList=t;else if("srtDiff"===this.sort)for(var e in t)0===this.selected&&0===t[e].transScore&&this.amendedList.push(t[e]),0===this.selected&&null===t[e].transScore&&this.amendedList.push(t[e]),-1===this.selected&&t[e].transScore<=-1&&this.amendedList.push(t[e]),1===this.selected&&t[e].transScore>=1&&this.amendedList.push(t[e]);else if("srtLet"===this.sort)for(var s in t)t[s].Category===this.selected&&this.amendedList.push(t[s]);else if("srtGram"===this.sort)for(var o in t)t[o].Gr===this.selected&&this.amendedList.push(t[o]);else if("phr."===this.special||"abbr."===this.special||"prop."===this.special)for(var i in t)t[i].Gr===this.special&&this.amendedList.push(t[i]);else if("punc"===this.special)for(var n in t)(t[n].English.includes("-")||t[n].English.includes("'")||t[n].English.includes("&")||t[n].English.includes("."))&&this.amendedList.push(t[n]);this.amendedList.length<this.words&&(this.words=this.amendedList.length),"TypeTest"===this.testType?this.makeSpelling():this.makeChoices()},makeChoices:function(){for(var t=0;t<this.words;){var e=this.amendedList[Math.floor(Math.random()*this.amendedList.length)];if(this.checkDuplicate(e)){for(var s=[{English:e.English,Chinese:e.Chinese,Gr:e.Gr,sdEn:e.mp3en,sdCh:e.mp3ch}],o=1;o<this.choices;)if("sdTy"===this.sound)s.push({English:this.typoFix(e.English),Gr:e.Gr,sdEn:e.mp3en,sdCh:e.mp3ch,Chinese:e.Chinese}),o++;else{var n=this.amendedList[Math.floor(Math.random()*this.amendedList.length)];s.includes(n)||(s.push({English:n.English,Chinese:n.Chinese,Gr:n.Gr,sdEn:n.mp3en,sdCh:n.mp3ch}),o++)}var a=this.shuffle(s);this.testItemsRoot.push({English:e.English,Chinese:e.Chinese,Choices:a,Gr:e.Gr,sdEn:e.mp3en,sdCh:e.mp3ch}),t++}else console.log("pass",e)}this.toolbarSettings={type:this.testType,sound:this.sound,label:this.label,sort:this.sort,words:this.words,choices:this.choices,selected:this.selected},this.$emit("newTest",{test:this.testItemsRoot,settings:i()(this.toolbarSettings)}),this.words<6&&(this.words=parseInt(this.wordsReset))},makeSpelling:function(){for(var t=0;t<this.words;){var e=this.amendedList[Math.floor(Math.random()*this.amendedList.length)];if(this.checkDuplicate(e)){var s="              ";this.spelling&&(s=Object(n.d)(e.English,this.spelling)),console.log("SPELL",s),this.testItemsRoot.push({English:e.English,Chinese:e.Chinese,Spelling:s,Gr:e.Gr,sdEn:e.mp3en,sdCh:e.mp3ch}),t++}else console.log("pass",e)}this.toolbarSettings={type:this.testType,sound:this.sound,label:this.label,words:this.words,choices:this.choices,spelling:this.spelling,display:this.display,feedback:this.feedback},this.$emit("newTest",{test:this.testItemsRoot,settings:i()(this.toolbarSettings)}),this.words<6&&(this.words=parseInt(this.wordsReset))},typoFix:function(t){var e=t.split(" "),s="";for(var o in e)s+=Object(n.a)(e[o]),s+=" ";return s},retryTest:function(){this.$emit("retry",null)},alphabet:function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var e in t)this.optionsA.push({value:t[e],text:t[e]})},checkDuplicate:function(t){for(var e in this.testItems)if(this.testItems[e].English===t.English)return console.log("found",t),!1;return!0},shuffle:function(t){for(var e=t.length-1;e>0;e--){var s=Math.floor(Math.random()*(e+1)),o=[t[s],t[e]];t[e]=o[0],t[s]=o[1]}return t},goTo:function(t){this.$router.push(t)}},watch:{words:function(){0===this.words&&(alert("There are no words that meet your selection"),this.words=parseInt(this.wordsReset))}},created:function(){this.alphabet(),this.tableItems=this.$store.getters.makeList,this.stringItems=i()(this.tableItems),"TransCh"===this.testType&&(this.sortOptions.pop(),this.soundOptions=[{text:"exam mode",value:"sdEx"},{text:"typos mode",value:"sdTy"},{text:"off",value:"sdOff"}]),"TypeTest"===this.testType&&(this.sound="sdEn",this.soundOptions=[{text:"auto Eng",value:"sdEn"},{text:"auto Ch",value:"sdCh"},{text:"off",value:"sdOff"}])}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.toolbarShow?t._e():s("div",{staticClass:"toolbar"},[s("div",[s("b-card",[s("b-row",[s("b-col",{attrs:{cols:"8"}},[s("label",{attrs:{for:"range-words"}},[t._v("Quiz Words: "+t._s(t.words)+" ")]),t._v(" "),s("b-form-input",{attrs:{id:"range-words",type:"range",min:"6",max:"30",step:"2",variant:"warning"},model:{value:t.words,callback:function(e){t.words=e},expression:"words"}})],1)],1),t._v(" "),"TransEng"===t.testType||"TransCh"===t.testType?s("b-row",{staticClass:"mt-2"},[s("b-col",[s("label",{attrs:{for:"range-chocies"}},[t._v("Answers Choices: ")]),t._v(" "),s("br"),t._v(" "),s("b-form-spinbutton",{attrs:{inline:"",id:"range-chocies",type:"range",min:"2",max:"6"},model:{value:t.choices,callback:function(e){t.choices=e},expression:"choices"}})],1)],1):t._e(),t._v(" "),"TypeTest"===t.testType?s("b-row",{staticClass:"mt-2"},[s("b-col",[t._v("\n          Spelling Options\n        "),s("b-form-select",{attrs:{options:t.optionsO},model:{value:t.spelling,callback:function(e){t.spelling=e},expression:"spelling"}})],1),t._v(" "),s("b-col",[t._v("\n          Sort Options\n        "),s("b-form-select",{attrs:{options:t.optionsS},model:{value:t.special,callback:function(e){t.special=e},expression:"special"}})],1)],1):t._e(),t._v(" "),s("b-row",["TypeTest"===t.testType?s("b-col",{staticClass:"my-2",attrs:{md:"4"}},[t._v("\n          Display Options\n          "),s("div",[s("b-form-radio-group",{attrs:{options:t.displayOptions,buttons:"","button-variant":"outline-primary",size:"sm"},model:{value:t.display,callback:function(e){t.display=e},expression:"display"}})],1)]):t._e(),t._v(" "),"TypeTest"===t.testType?s("b-col",{staticClass:"my-2",attrs:{md:"4"}},[t._v("\n          Feedback Options\n          "),s("div",[s("b-form-radio-group",{attrs:{options:t.feedbackOptions,buttons:"","button-variant":"outline-primary",size:"sm"},model:{value:t.feedback,callback:function(e){t.feedback=e},expression:"feedback"}})],1)]):t._e(),t._v(" "),s("b-col",{staticClass:"mt-4",attrs:{lg:"4"}},[t._v("\n          Sound Options\n          "),s("div",[s("b-form-radio-group",{attrs:{options:t.soundOptions,buttons:"","button-variant":"custom",size:"sm"},model:{value:t.sound,callback:function(e){t.sound=e},expression:"sound"}})],1)])],1),t._v(" "),"TransEng"===t.testType||"TransCh"===t.testType?s("b-row",[s("b-col",[s("br"),t._v("\n          Grammar Labels\n          "),s("div",[s("b-form-radio-group",{attrs:{options:t.labelOptions,buttons:"","button-variant":"outline-primary",size:"sm"},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1)])],1):t._e(),t._v(" "),"TransEng"===t.testType||"TransCh"===t.testType?s("b-row",[s("b-col",[s("br"),t._v("\n          Sort Options\n          "),s("div",[s("b-form-radio-group",{attrs:{options:t.sortOptions,buttons:"","button-variant":"outline-primary",size:"sm"},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}})],1)])],1):t._e(),t._v(" "),s("br"),t._v(" "),s("b-row",["srtLet"==t.sort?s("b-col",[s("b-form-select",{attrs:{options:t.optionsA,"select-size":4},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t._v(" "),s("div",{staticClass:"mt-3"},[t._v("Selected: "),s("strong",[t._v(t._s(t.selected))])])],1):t._e(),t._v(" "),"srtGram"==t.sort?s("b-col",[s("b-form-select",{attrs:{options:t.optionsG},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t._v(" "),s("div",{staticClass:"mt-3"},[t._v("Selected: "),s("strong",[t._v(t._s(t.selected))])])],1):t._e(),t._v(" "),"srtDiff"==t.sort?s("b-col",[s("b-form-select",{attrs:{options:t.optionsR},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t._v(" "),s("div",{staticClass:"mt-3"},[t._v("Selected: "),s("strong",[t._v(t._s(t.selected))])])],1):t._e()],1)],1),t._v(" "),s("b-card",{staticClass:"mt-2"},[s("b-row",[s("b-col",[s("b-button",{staticClass:"md-3",attrs:{variant:"outline-primary",block:""},on:{click:function(e){return t.makeTest()}}},[t._v("Start")])],1),t._v(" "),s("b-col",[t.showAnswers?s("b-button",{staticClass:"md-3",attrs:{variant:"outline-success",block:""},on:{click:function(e){return t.retryTest()}}},[t._v("Retry")]):t._e()],1)],1)],1)],1)])},staticRenderFns:[]};var r=s("VU/8")(a,l,!1,function(t){s("+yZv")},"data-v-0f033c02",null);e.default=r.exports}});
//# sourceMappingURL=0.8c498f719922060a3bdb.js.map