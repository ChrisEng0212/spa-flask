webpackJsonp([6],{"LR+Q":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("mvHQ"),o=e.n(i),n=e("0xDb"),a={name:"ToolbarMatch",props:{toolbarShow:Boolean,showAnswers:Boolean,testType:String},data:function(){return{showToolbar:!0,wordsReset:"6",words:6,choices:4,retry:!1,testItemsRoot:[],amendedList:[],toolbarSettings:{},optionsA:[{value:null,text:"---"}],sound:"sdEx",soundOptions:[{text:"exam mode",value:"sdEx"},{text:"auto play",value:"sdOn"},{text:"None",value:"sdOff"}],spelling:null,spellingText:"-----",optionsO:[{value:null,text:"---"},{value:"const",text:"show vowels"},{value:"vowels",text:"show consonants"},{value:"blanks",text:"show blanks"},{value:"all",text:"show all"},{value:"showFL",text:"show words"},{value:"typos",text:"typos"},{value:"scramble",text:"scramble letter"}],feedback:"fbConst",feedbackOptions:[{text:"Constant",value:"fbConst"},{text:"Complete",value:"fbComp"},{text:"None",value:"fbNone"}]}},methods:{makeTest:function(){this.testItemsRoot=[];var t=JSON.parse(this.stringItems);this.amendedList=t,"TypeTest"===this.testType?this.makeSpelling():this.makeChoices()},makeChoices:function(){for(var t=0;t<this.words;){var s=this.amendedList[Math.floor(Math.random()*this.amendedList.length)];if(this.checkDuplicate(s)){for(var e=[{English:s.English,Chinese:s.Chinese,Gr:s.Gr,sdEn:s.mp3en,sdCh:s.mp3ch}],i=1;i<this.choices;)if("sdTy"===this.sound)e.push({English:this.typoFix(s.English),Gr:s.Gr,sdEn:s.mp3en,sdCh:s.mp3ch,Chinese:s.Chinese}),i++;else{var n=this.amendedList[Math.floor(Math.random()*this.amendedList.length)];e.includes(n)||(e.push({English:n.English,Chinese:n.Chinese,Gr:n.Gr,sdEn:n.mp3en,sdCh:n.mp3ch}),i++)}var a=this.shuffle(e);this.testItemsRoot.push({English:s.English,Chinese:s.Chinese,Choices:a,Gr:s.Gr,sdEn:s.mp3en,sdCh:s.mp3ch}),t++}else console.log("pass",s)}this.toolbarSettings={type:this.testType,sound:this.sound,words:this.words,choices:this.choices},this.$emit("newTest",{test:this.testItemsRoot,settings:o()(this.toolbarSettings)}),this.words<6&&(this.words=parseInt(this.wordsReset))},makeSpelling:function(){for(var t=0;t<this.words;){var s=this.amendedList[Math.floor(Math.random()*this.amendedList.length)];if(this.checkDuplicate(s)){var e="              ";this.spelling&&(e=Object(n.e)(s.English,this.spelling)),console.log("SPELL",e),this.testItemsRoot.push({English:s.English,Chinese:s.Chinese,Spelling:e,Gr:s.Gr,sdEn:s.mp3en,sdCh:s.mp3ch}),t++}else console.log("pass",s)}this.toolbarSettings={type:this.testType,sound:this.sound,label:this.label,words:this.words,choices:this.choices,spelling:this.spelling,display:this.display,feedback:this.feedback},this.$emit("newTest",{test:this.testItemsRoot,settings:o()(this.toolbarSettings)}),this.words<6&&(this.words=parseInt(this.wordsReset))},typoFix:function(t){var s=t.split(" "),e="";for(var i in s)e+=Object(n.a)(s[i]),e+=" ";return e},retryTest:function(){this.$emit("retry",null)},alphabet:function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var s in t)this.optionsA.push({value:t[s],text:t[s]})},checkDuplicate:function(t){for(var s in this.testItems)if(this.testItems[s].English===t.English)return console.log("found",t),!1;return!0},shuffle:function(t){for(var s=t.length-1;s>0;s--){var e=Math.floor(Math.random()*(s+1)),i=[t[e],t[s]];t[s]=i[0],t[e]=i[1]}return t},goTo:function(t){this.$router.push(t)}},watch:{words:function(){0===this.words&&(alert("There are no words that meet your selection"),this.words=parseInt(this.wordsReset))}},created:function(){this.alphabet(),this.tableItems=this.$store.getters.makeList,this.stringItems=o()(this.tableItems),"TransCh"===this.testType&&(this.sortOptions.pop(),this.soundOptions=[{text:"exam mode",value:"sdEx"},{text:"typo check",value:"sdTy"},{text:"off",value:"sdOff"}]),"TypeTest"===this.testType&&(this.sound="sdEn",this.soundOptions=[{text:"English",value:"sdEn"},{text:"Chinese",value:"sdCh"},{text:"None",value:"sdOff"}])}},l={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.toolbarShow?t._e():e("div",{staticClass:"toolbar"},[e("div",[e("div",{staticClass:"mt-2 bg-secondary p-2"},[e("h2",{staticClass:"text-sand",attrs:{align:"center"}},[t._v("\n            "+t._s(t.testType)+"\n          ")])]),t._v(" "),e("div",{staticClass:"bg-primary p-2 mt-0"},[e("b-row",[e("b-col",[e("b-button",{staticClass:"md-3",attrs:{variant:"primary",block:""},on:{click:function(s){t.makeTest(),t.showToolbar=!1}}},[t._v("Start")])],1),t._v(" "),t.showAnswers?e("b-col",[e("b-button",{staticClass:"md-3",attrs:{variant:"warning",block:""},on:{click:function(s){return t.retryTest()}}},[t._v("Retry")])],1):t._e(),t._v(" "),e("b-col",[e("b-button",{staticClass:"md-3",attrs:{variant:"info",block:""},on:{click:function(s){t.showToolbar=!0}}},[t._v("Settings")])],1)],1)],1),t._v(" "),t.showToolbar?e("div",{staticClass:"bg-grey p-2 pb-4"},[e("b-row",{attrs:{cols:"2","cols-md":"4","cols-lg":"6"}},[e("b-col",{staticClass:"mt-3"},[e("h6",{attrs:{align:"center"}},[t._v("Words")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("b-form-spinbutton",{staticStyle:{height:"125px"},attrs:{min:"6",max:"30",step:"2",vertical:""},model:{value:t.words,callback:function(s){t.words=s},expression:"words"}})],1)]),t._v(" "),"TransEng"===t.testType||"TransCh"===t.testType?e("b-col",{staticClass:"mt-3"},[e("h6",{attrs:{align:"center"}},[t._v("Choices")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("b-form-spinbutton",{staticStyle:{height:"125px"},attrs:{min:"2",max:"6",vertical:""},model:{value:t.choices,callback:function(s){t.choices=s},expression:"choices"}})],1)]):t._e(),t._v(" "),"TypeTest"===t.testType?e("b-col",{staticClass:"mt-3"},[e("h6",{attrs:{align:"center"}},[t._v("Feedback")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("b-form-radio-group",{attrs:{options:t.feedbackOptions,buttons:"","button-variant":"outline-primary",stacked:""},model:{value:t.feedback,callback:function(s){t.feedback=s},expression:"feedback"}})],1)]):t._e(),t._v(" "),"TypeTest"===t.testType?e("b-col",{staticClass:"mt-3"},[e("h6",{attrs:{align:"center"}},[t._v(" Spelling ")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("b-dropdown",{attrs:{text:t.spellingText}},[e("div",t._l(t.optionsO,function(s,i){return e("b-dropdown-item",{key:i,on:{click:function(e){t.spelling=s.value,t.spellingText=s.text}}},[t._v(" "+t._s(s.text)+" ")])}),1)])],1)]):t._e()],1)],1):t._e()])])},staticRenderFns:[]};var r=e("VU/8")(a,l,!1,function(t){e("hsQQ")},"data-v-5a2c9d28",null);s.default=r.exports},hsQQ:function(t,s){}});
//# sourceMappingURL=6.2cfcb08c7566daa7826d.js.map