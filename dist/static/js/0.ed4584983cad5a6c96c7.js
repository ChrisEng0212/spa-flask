webpackJsonp([0],{"LR+Q":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("mvHQ"),a=e.n(i),o=e("0xDb"),n={name:"ToolbarMatch",props:{toolbarShow:Boolean,showToolbar:Boolean,showAnswers:Boolean,testType:String,p1:Number,p1name:String,p2:Number,p2name:String,player:String,waiting:Number,socket:Object},data:function(){return{s3:"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/profiles/",wordsReset:"6",words:6,choices:4,retry:!1,testItemsRoot:[],amendedList:[],toolbarSettings:{},optionsA:[{value:null,text:"---"}],sound:"sdEx",soundOptions:[{text:"exam mode",value:"sdEx"},{text:"auto play",value:"sdOn"},{text:"None",value:"sdOff"}],spelling:null,spellingText:"-----",optionsO:[{value:null,text:"---"},{value:"const",text:"show vowels"},{value:"vowels",text:"show consonants"},{value:"blanks",text:"show blanks"},{value:"all",text:"show all"},{value:"showFL",text:"show words"},{value:"typos",text:"typos"},{value:"scramble",text:"scramble letter"}],feedback:"fbConst",feedbackOptions:[{text:"Constant",value:"fbConst"},{text:"Complete",value:"fbComp"},{text:"None",value:"fbNone"}]}},methods:{makeTest:function(){this.testItemsRoot=[];var t=JSON.parse(this.stringItems);this.amendedList=t,"TypeTest"===this.testType?this.makeSpelling():this.makeChoices()},makeChoices:function(){for(var t=0;t<this.words;){var s=this.amendedList[Math.floor(Math.random()*this.amendedList.length)];if(this.checkDuplicate(s)){for(var e=[{English:s.English,Chinese:s.Chinese,Gr:s.Gr,sdEn:s.mp3en,sdCh:s.mp3ch}],i=1;i<this.choices;)if("sdTy"===this.sound)e.push({English:this.typoFix(s.English),Gr:s.Gr,sdEn:s.mp3en,sdCh:s.mp3ch,Chinese:s.Chinese}),i++;else{var a=this.amendedList[Math.floor(Math.random()*this.amendedList.length)];e.includes(a)||(e.push({English:a.English,Chinese:a.Chinese,Gr:a.Gr,sdEn:a.mp3en,sdCh:a.mp3ch}),i++)}var o=this.shuffle(e);this.testItemsRoot.push({English:s.English,Chinese:s.Chinese,Choices:o,Gr:s.Gr,sdEn:s.mp3en,sdCh:s.mp3ch}),t++}else console.log("pass",s)}this.toolbarSettings={type:this.testType,sound:this.sound,words:this.words,choices:this.choices},this.socket.emit("ready",{room:this.p1,player:this.player,testItems:this.testItemsRoot}),console.log(this.testItemsRoot),this.words<6&&(this.words=parseInt(this.wordsReset))},makeSpelling:function(){for(var t=0;t<this.words;){var s=this.amendedList[Math.floor(Math.random()*this.amendedList.length)];if(this.checkDuplicate(s)){var e="              ";this.spelling&&(e=Object(o.e)(s.English,this.spelling)),console.log("SPELL",e),this.testItemsRoot.push({English:s.English,Chinese:s.Chinese,Spelling:e,Gr:s.Gr,sdEn:s.mp3en,sdCh:s.mp3ch}),t++}else console.log("pass",s)}this.toolbarSettings={type:this.testType,sound:this.sound,label:this.label,words:this.words,choices:this.choices,spelling:this.spelling,display:this.display,feedback:this.feedback},this.$emit("newTest",{test:this.testItemsRoot,settings:a()(this.toolbarSettings)}),this.socket.emit("ready",{room:this.p1,player:this.player,testItems:this.testItemsRoot}),console.log(this.testItemsRoot),this.words<6&&(this.words=parseInt(this.wordsReset))},typoFix:function(t){var s=t.split(" "),e="";for(var i in s)e+=Object(o.a)(s[i]),e+=" ";return e},retryTest:function(){this.$emit("retry",null)},alphabet:function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var s in t)this.optionsA.push({value:t[s],text:t[s]})},checkDuplicate:function(t){for(var s in this.testItems)if(this.testItems[s].English===t.English)return console.log("found",t),!1;return!0},shuffle:function(t){for(var s=t.length-1;s>0;s--){var e=Math.floor(Math.random()*(s+1)),i=[t[e],t[s]];t[s]=i[0],t[e]=i[1]}return t},goTo:function(t){this.$router.push(t)},playerReady:function(){"p1"===this.player?this.makeTest():this.socket.emit("ready",{room:this.p1,player:this.player,testItems:this.testItemsRoot})}},watch:{words:function(){0===this.words&&(alert("There are no words that meet your selection"),this.words=parseInt(this.wordsReset))}},created:function(){this.alphabet(),this.tableItems=this.$store.getters.makeList,this.stringItems=a()(this.tableItems),"TransCh"===this.testType&&(this.sortOptions.pop(),this.soundOptions=[{text:"exam mode",value:"sdEx"},{text:"typo check",value:"sdTy"},{text:"off",value:"sdOff"}]),"TypeTest"===this.testType&&(this.sound="sdEn",this.soundOptions=[{text:"English",value:"sdEn"},{text:"Chinese",value:"sdCh"},{text:"None",value:"sdOff"}])}},l={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.toolbarShow?t._e():e("div",{staticClass:"toolbar"},[e("div",[e("div",{staticClass:"mt-2 bg-second p-2"},[e("h2",{staticClass:"text-sand",attrs:{align:"center"}},[t._v("\n            "+t._s(t.testType)+"\n          ")])]),t._v(" "),e("div",{staticClass:"mt-2 bg-third p-2"},[e("b-avatar",{staticClass:"mr-3",attrs:{src:t.s3+t.p1.toString()+".jpg",text:t.p1name[0],variant:"p1"}}),t._v(" "),e("span",{staticClass:"mr-auto"},[t._v(t._s(t.p1name))]),t._v(" "),e("b-avatar",{staticClass:"mr-3",attrs:{src:t.s3+t.p2.toString()+".jpg",text:t.p2name[0],variant:"p2"}}),t._v(" "),e("span",{staticClass:"mr-auto"},[t._v(t._s(t.p2name))])],1),t._v(" "),e("div",{staticClass:"bg-prime p-2 mt-0"},[e("b-row",[e("b-col",[e("b-button",{staticClass:"md-3",attrs:{variant:t.player,block:""},on:{click:function(s){t.playerReady(),t.waiting=1}}},[t._v("Ready")])],1)],1)],1),t._v(" "),1===t.waiting?e("b-card",{attrs:{align:"center"}},[e("b-icon",{attrs:{icon:"three-dots",animation:"cylon","font-scale":"6",variant:t.player}})],1):t._e(),t._v(" "),2===t.waiting?e("b-card",{attrs:{align:"center"}},[e("b-icon",{attrs:{icon:"caret-right-square-fill",animation:"throb","font-scale":"6",variant:t.player}})],1):t._e(),t._v(" "),0===t.waiting&&"p1"===t.player?e("div",{staticClass:"bg-grey p-2 pb-4"},[e("b-row",{attrs:{cols:"2","cols-md":"4","cols-lg":"6"}},[e("b-col",{staticClass:"mt-3"},[e("h6",{attrs:{align:"center"}},[t._v("Words")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("b-form-spinbutton",{staticStyle:{height:"125px"},attrs:{min:"6",max:"30",step:"2",vertical:""},model:{value:t.words,callback:function(s){t.words=s},expression:"words"}})],1)]),t._v(" "),"TransEng"===t.testType||"TransCh"===t.testType?e("b-col",{staticClass:"mt-3"},[e("h6",{attrs:{align:"center"}},[t._v("Choices")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("b-form-spinbutton",{staticStyle:{height:"125px"},attrs:{min:"2",max:"6",vertical:""},model:{value:t.choices,callback:function(s){t.choices=s},expression:"choices"}})],1)]):t._e(),t._v(" "),"TypeTest"===t.testType?e("b-col",{staticClass:"mt-3"},[e("h6",{attrs:{align:"center"}},[t._v("Feedback")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("b-form-radio-group",{attrs:{options:t.feedbackOptions,buttons:"","button-variant":"outline-prime",stacked:""},model:{value:t.feedback,callback:function(s){t.feedback=s},expression:"feedback"}})],1)]):t._e(),t._v(" "),"TypeTest"===t.testType?e("b-col",{staticClass:"mt-3"},[e("h6",{attrs:{align:"center"}},[t._v(" Spelling ")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("b-dropdown",{attrs:{text:t.spellingText}},[e("div",t._l(t.optionsO,function(s,i){return e("b-dropdown-item",{key:i,on:{click:function(e){t.spelling=s.value,t.spellingText=s.text}}},[t._v(" "+t._s(s.text)+" ")])}),1)])],1)]):t._e()],1)],1):t._e()],1)])},staticRenderFns:[]};var r=e("VU/8")(n,l,!1,function(t){e("aKIE")},"data-v-f8a1e2aa",null);s.default=r.exports},aKIE:function(t,s){},djO7:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("mvHQ"),a=e.n(i),o=e("0xDb"),n={name:"Toolbar",props:{toolbarShow:Boolean,showAnswers:Boolean,testType:String,title:String},data:function(){return{showToolbar:!0,wordsReset:"6",words:6,choices:4,retry:!1,testItemsRoot:[],amendedList:[],selected:null,toolbarSettings:{},optionsA:[{value:null,text:"---"}],optionsG:[{value:null,text:"---"},{value:"v.",text:"verbs"},{value:"adj.",text:"adjectives"},{value:"n.",text:"nouns"},{value:"phr.",text:"phrases"},{value:"abbr.",text:"abbreviations"},{value:"prop.",text:"proper nouns"}],optionsR:[{value:null,text:"---"},{value:0,text:"normal"},{value:1,text:"easier words"},{value:-1,text:"harder words"}],label:"lbAn",labelOptions:[{text:"answer",value:"lbAn"},{text:"question",value:"lbQu"},{text:"all off",value:"lbOff"},{text:"all on",value:"lbOn"}],sort:"srtNone",sortOptions:[{text:"none",value:"srtNone"},{text:"difficulty",value:"srtDiff"},{text:"grammar",value:"srtGram"},{text:"letter",value:"srtLet"}],sound:"sdEx",soundOptions:[{text:"exam mode",value:"sdEx",class:"bg-grey"},{text:"auto play",value:"sdOn"},{text:"None",value:"sdOff"}],spelling:null,spellingText:"-------------",optionsO:[{value:null,text:"---"},{value:"const",text:"vowels"},{value:"vowels",text:"consonants"},{value:"blanks",text:"blanks"},{value:"all",text:"all"},{value:"showFL",text:"words"},{value:"typos",text:"typos"},{value:"scramble",text:"scramble"}],specialText:"-------------",special:null,optionsS:[{value:null,text:"---"},{value:"punc",text:"punctuation"},{value:"phr.",text:"phrases"},{value:"abbr.",text:"abbreviations"},{value:"prop.",text:"proper nouns"}],display:"ch_text_On",displayOptions:[{text:"Chinese",value:"ch_text_On"},{text:"Label",value:"ch_lb_On"},{text:"None",value:"ch_lb_Off"}],feedback:"fbConst",feedbackOptions:[{text:"Constant",value:"fbConst"},{text:"Complete",value:"fbComp"},{text:"None",value:"fbNone"}]}},methods:{makeTest:function(){this.testItemsRoot=[];var t=JSON.parse(this.stringItems);if(this.amendedList=[],"srtNone"===this.sort&&null===this.special)this.amendedList=t;else if("srtDiff"===this.sort)for(var s in t)0===this.selected&&0===t[s].totalScore&&this.amendedList.push(t[s]),0===this.selected&&null===t[s].totalScore&&this.amendedList.push(t[s]),-1===this.selected&&t[s].totalScore<=-1&&this.amendedList.push(t[s]),1===this.selected&&t[s].totalScore>=1&&this.amendedList.push(t[s]);else if("srtLet"===this.sort)for(var e in t)t[e].Category===this.selected&&this.amendedList.push(t[e]);else if("srtGram"===this.sort)for(var i in t)t[i].Gr===this.selected&&this.amendedList.push(t[i]);else if("phr."===this.special||"abbr."===this.special||"prop."===this.special)for(var a in t)t[a].Gr===this.special&&this.amendedList.push(t[a]);else if("punc"===this.special)for(var o in t)(t[o].English.includes("-")||t[o].English.includes("'")||t[o].English.includes("&")||t[o].English.includes("."))&&this.amendedList.push(t[o]);this.amendedList.length<this.words&&(this.words=this.amendedList.length),"TypeTest"===this.testType?this.makeSpelling():this.makeChoices()},makeChoices:function(){for(var t=0;t<this.words;){var s=this.amendedList[Math.floor(Math.random()*this.amendedList.length)];if(console.log("MAKE CHOICES",this.testItemsRoot,s,this.checkDuplicate(s)),this.checkDuplicate(s)){for(var e=[{English:s.English,Chinese:s.Chinese,Gr:s.Gr,sdEn:s.mp3en,sdCh:s.mp3ch}],i=1;i<this.choices;)if("sdTy"===this.sound)e.push({English:this.typoFix(s.English),Gr:s.Gr,sdEn:s.mp3en,sdCh:s.mp3ch,Chinese:s.Chinese}),i++;else{var o=this.amendedList[Math.floor(Math.random()*this.amendedList.length)];console.log(o,e),e.includes(o)||(e.push({English:o.English,Chinese:o.Chinese,Gr:o.Gr,sdEn:o.mp3en,sdCh:o.mp3ch}),i++)}var n=this.shuffle(e);this.testItemsRoot.push({English:s.English,Chinese:s.Chinese,Choices:n,Gr:s.Gr,sdEn:s.mp3en,sdCh:s.mp3ch}),t++}else console.log("pass",s)}this.toolbarSettings={type:this.testType,sound:this.sound,label:this.label,sort:this.sort,words:this.words,choices:this.choices,selected:this.selected},this.$emit("newTest",{test:this.testItemsRoot,settings:a()(this.toolbarSettings)}),this.words<6&&(this.words=parseInt(this.wordsReset))},makeSpelling:function(){for(var t=0;t<this.words;){var s=this.amendedList[Math.floor(Math.random()*this.amendedList.length)];if(this.checkDuplicate(s)){var e="              ";this.spelling&&(e=Object(o.e)(s.English,this.spelling)),console.log("SPELL",e),this.testItemsRoot.push({English:s.English,Chinese:s.Chinese,Spelling:e,Gr:s.Gr,sdEn:s.mp3en,sdCh:s.mp3ch}),t++}else console.log("pass",s)}this.toolbarSettings={type:this.testType,sound:this.sound,label:this.label,words:this.words,choices:this.choices,spelling:this.spelling,display:this.display,feedback:this.feedback},this.$emit("newTest",{test:this.testItemsRoot,settings:a()(this.toolbarSettings)}),this.words<6&&(this.words=parseInt(this.wordsReset))},checkDuplicate:function(t){for(var s in this.testItemsRoot){if(console.log("check duplicate",this.testItemsRoot[s].English,t.English),this.testItemsRoot[s].English===t.English)return console.log("found",t),!1;console.log("clear",t)}return!0},typoFix:function(t){var s=t.split(" "),e="";for(var i in s)e+=Object(o.a)(s[i]),e+=" ";return e},retryTest:function(){this.$emit("retry",null)},alphabet:function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var s in t)this.optionsA.push({value:t[s],text:t[s]})},shuffle:function(t){for(var s=t.length-1;s>0;s--){var e=Math.floor(Math.random()*(s+1)),i=[t[e],t[s]];t[s]=i[0],t[e]=i[1]}return t},goTo:function(t){this.$router.push(t)}},watch:{words:function(){0===this.words&&(alert("There are no words that meet your selection"),this.words=parseInt(this.wordsReset))}},created:function(){this.alphabet(),this.tableItems=this.$store.getters.makeList,this.stringItems=a()(this.tableItems),"TransCh"===this.testType&&(this.sortOptions.pop(),this.soundOptions=[{text:"exam mode",value:"sdEx"},{text:"typo check",value:"sdTy"},{text:"off",value:"sdOff"}]),"TypeTest"===this.testType&&(this.sound="sdEn",this.soundOptions=[{text:"English",value:"sdEn"},{text:"Chinese",value:"sdCh"},{text:"None",value:"sdOff"}])}},l={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.toolbarShow?t._e():e("div",{staticClass:"toolbar"},[e("div",[e("div",{staticClass:"mt-2 bg-second p-2"},[e("h2",{staticClass:"text-cream",attrs:{align:"center"}},[t._v("\n            "+t._s(t.title)+"\n          ")])]),t._v(" "),e("div",{staticClass:"bg-prime p-2 mt-0"},[e("b-row",[e("b-col",{attrs:{align:"center"}},[e("div",{staticClass:"buttonDiv bg-info",staticStyle:{width:"45%"},on:{click:function(s){t.makeTest(),t.showToolbar=!1}}},[t._v("Start")])])],1),t._v(" "),t.showAnswers&&!t.showToolbar?e("b-row",{staticClass:"mt-2"},[e("b-col",[e("div",{staticClass:"buttonDiv bg-warn",staticStyle:{width:"100%"},on:{click:function(s){return t.retryTest()}}},[t._v("Retry")])]),t._v(" "),e("b-col",[e("div",{staticClass:"buttonDiv bg-grey",staticStyle:{width:"100%"},on:{click:function(s){t.showToolbar=!0}}},[t._v("Settings")])])],1):t._e()],1),t._v(" "),t.showToolbar?e("div",{staticClass:"bg-fourth p-2 pb-4 mb-5"},[e("b-row",{attrs:{cols:"2","cols-lg":"4","cols-xl":"6"}},[e("b-col",{staticClass:"mt-4"},[e("div",{attrs:{align:"center"}},[e("div",{staticClass:"headDiv"},[t._v("\n                Words\n              ")]),t._v(" "),e("div",{staticClass:"spinDiv"},[e("b-form-spinbutton",{staticStyle:{height:"125px"},attrs:{min:"6",max:"30",step:"2",vertical:""},model:{value:t.words,callback:function(s){t.words=s},expression:"words"}})],1)])]),t._v(" "),"TransEng"===t.testType||"TransCh"===t.testType?e("b-col",{staticClass:"mt-4"},[e("div",{attrs:{align:"center"}},[e("div",{staticClass:"headDiv"},[t._v("\n                Choices\n              ")]),t._v(" "),e("div",{staticClass:"spinDiv"},[e("b-form-spinbutton",{staticStyle:{height:"125px"},attrs:{min:"2",max:"6",vertical:""},model:{value:t.choices,callback:function(s){t.choices=s},expression:"choices"}})],1)])]):t._e(),t._v(" "),e("b-col",{staticClass:"mt-4"},[e("div",{attrs:{align:"center"}},[e("div",{staticClass:"headDiv"},[t._v(" Sound ")]),t._v(" "),e("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.soundOptions,"button-variant":"outline-alert",buttons:"",stacked:""},model:{value:t.sound,callback:function(s){t.sound=s},expression:"sound"}})],1)]),t._v(" "),"TypeTest"===t.testType?e("b-col",{staticClass:"mt-4"},[e("div",{attrs:{align:"center"}},[e("div",{staticClass:"headDiv"},[t._v(" Display ")]),t._v(" "),e("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.displayOptions,buttons:"","button-variant":"outline-second",stacked:""},model:{value:t.display,callback:function(s){t.display=s},expression:"display"}})],1)]):t._e(),t._v(" "),"TypeTest"===t.testType?e("b-col",{staticClass:"mt-4"},[e("div",{attrs:{align:"center"}},[e("div",{staticClass:"headDiv"},[t._v(" Feedback ")]),t._v(" "),e("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.feedbackOptions,buttons:"","button-variant":"outline-grape-light",stacked:""},model:{value:t.feedback,callback:function(s){t.feedback=s},expression:"feedback"}})],1)]):t._e(),t._v(" "),"TransEng"===t.testType||"TransCh"===t.testType?e("b-col",{staticClass:"mt-4"},[e("div",{attrs:{align:"center"}},[e("div",{staticClass:"headDiv"},[t._v(" Grammar ")]),t._v(" "),e("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.labelOptions,buttons:"","button-variant":"outline-safe",stacked:""},model:{value:t.label,callback:function(s){t.label=s},expression:"label"}})],1)]):t._e(),t._v(" "),"TransEng"===t.testType||"TransCh"===t.testType?e("b-col",{staticClass:"mt-4"},[e("div",{attrs:{align:"center"}},[e("div",{staticClass:"headDiv"},[t._v(" Sort ")]),t._v(" "),e("b-form-radio-group",{staticStyle:{width:"120px"},attrs:{options:t.sortOptions,buttons:"","button-variant":"outline-warn",stacked:""},model:{value:t.sort,callback:function(s){t.sort=s},expression:"sort"}})],1)]):t._e(),t._v(" "),"TransEng"===t.testType||"TransCh"===t.testType?e("b-col",{staticClass:"mt-4"},[e("div",{staticClass:"mt-5"}),t._v(" "),"srtLet"==t.sort?e("b-form-select",{staticClass:"selectColor",attrs:{options:t.optionsA},model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}}):t._e(),t._v(" "),"srtGram"==t.sort?e("b-form-select",{staticClass:"selectColor",attrs:{options:t.optionsG},model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}}):t._e(),t._v(" "),"srtDiff"==t.sort?e("b-form-select",{staticClass:"selectColor",attrs:{options:t.optionsR},model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}}):t._e()],1):t._e(),t._v(" "),"TypeTest"===t.testType?e("b-col",{staticClass:"mt-4"},[e("div",{attrs:{align:"center"}},[e("div",{staticClass:"headDiv"},[t._v(" Spelling ")]),t._v(" "),e("b-dropdown",{attrs:{text:t.spellingText,variant:"outline-dark"}},[e("div",t._l(t.optionsO,function(s,i){return e("b-dropdown-item",{key:i,on:{click:function(e){t.spelling=s.value,t.spellingText=s.text}}},[t._v(" "+t._s(s.text)+" ")])}),1)])],1)]):t._e(),t._v(" "),"TypeTest"===t.testType?e("b-col",{staticClass:"mt-4"},[e("div",{attrs:{align:"center"}},[e("div",{staticClass:"headDiv"},[t._v(" Sort ")]),t._v(" "),e("b-dropdown",{attrs:{text:t.specialText,variant:"outline-info"}},[e("div",t._l(t.optionsS,function(s,i){return e("b-dropdown-item",{key:i,on:{click:function(e){t.special=s.value,t.specialText=s.text}}},[t._v(" "+t._s(s.text)+" ")])}),1)])],1)]):t._e()],1)],1):t._e(),t._v(" "),e("div")])])},staticRenderFns:[]};var r=e("VU/8")(n,l,!1,function(t){e("o8IK")},"data-v-0c3d5428",null);s.default=r.exports},o8IK:function(t,s){}});
//# sourceMappingURL=0.ed4584983cad5a6c96c7.js.map