webpackJsonp([2,8,10],{Goic:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),o=s.n(i),a={name:"InstTests",components:{},data:function(){return{masterDetails:{title:null,type:"ECN",list:[],status:0},testDetails:{title:null,type:"ECN",list:[],status:0},msg:null,testRecords:{},showDetails:!1,selected:["",!0],fields:[{key:"English",label:"Vocab",sortable:!0},{key:"ChineseExt",label:"Chinese",sortable:!0}],audioMarker:[null,null],testTypes:[{value:"ECN",label:"Eng --\x3e Ch (Normal)"}],optionsS:[{value:0,text:"Closed"},{value:1,text:"Active"}]}},methods:{showModal:function(t){this.msg=t,this.$refs.success.show()},showAlert:function(t){this.msg=t,this.$refs.fail.show()},hideModal:function(t){this.$refs[t].hide()},deleteAlert:function(t){console.log(this.testRecords);var e=this.testRecords;e[t]&&(delete e[t],this.testRecords=o()({},this.testRecords),this.$store.dispatch("instructorLogs",{group:this.$store.state.classLoad,action:"setTests",testData:this.testRecords}))},updateActive:function(){this.$store.dispatch("instructorLogs",{group:this.$store.state.classLoad,action:"setActive",activeTest:this.activeTest})},getDetails:function(t){this.showDetails=!0,this.testDetails=this.testRecords[t]},newTest:function(){this.showDetails=!0,this.testDetails=o()({},this.masterDetails)},saveTest:function(){this.showDetails=!1,this.selected[0]="",this.testRecords[this.testDetails.title]=this.testDetails,this.testRecords=o()({},this.testRecords),this.$store.dispatch("instructorLogs",{group:this.$store.state.classLoad,action:"setTests",testData:this.testRecords})},addCheck:function(t){var e=this.testDetails.list;if(e.includes(t)){var s=e.indexOf(t);s>-1&&e.splice(s,1)}else this.testDetails.list.push(t);console.log(this.testDetails.list)},getColor:function(t){return{0:"alert",1:"warning"}[this.testRecords[t].status]},filterTable:function(t,e){return""===e[0]?!!this.testDetails.list.includes(t.English):1!==e[0].length?!!t.English.includes(e[0].trim()):e[0]===t.English[0]||void 0},playAudio:function(t,e,s,i){var o=document.getElementById(this.audioMarker[0]+this.audioMarker[1]);console.log(o,s),o&&o.setAttribute("class","text-prime");var a=void 0;a=i?"text-warn":"text-"+this.getSoundwave(),this.audioMarker=[t,e];var r=document.getElementById(t+e);r.setAttribute("class",a);var n=document.getElementById("audio");n.src=s;var c=this;n.addEventListener("error",function(t){console.log("Logging playback error: "+t),r.setAttribute("class","text-prime"),c.note="Sorry, no audio available",c.showAlert()}),n.play(),n.onended=function(){r.setAttribute("class","text-prime")}}},computed:{tableItems:function(){return this.$store.getters.makeList},activeOptions:function(){return this.$store.getters.makeActiveOptions},activeTest:function(){return this.$store.state.activeTest}},created:function(){var t=this.$store.getters.testRecords;this.testRecords=o()({},t)}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"instTests"}},[s("audio",{attrs:{id:"audio"}}),t._v(" "),s("div",{staticClass:"bg-white mt-0 p-0"},[s("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),s("tbody",t._l(t.testRecords,function(e,i){return s("tr",{key:i},[s("th",{attrs:{scope:"row"}},[t._v(t._s(i))]),t._v(" "),s("td",[t._v(t._s(e.type))]),t._v(" "),s("td",[t._v(t._s(e.list.length))]),t._v(" "),s("td",[s("b-form-radio-group",{attrs:{id:i,options:t.optionsS,buttons:"","button-variant":t.getColor(i),name:"radio-btn-outline-1"},on:{change:function(e){return t.statusAction(i)}},model:{value:e.status,callback:function(s){t.$set(e,"status",s)},expression:"test.status"}})],1),t._v(" "),s("td",[s("button",{staticClass:"buttonDiv bg-info px-3",staticStyle:{width:"60px"},on:{click:function(e){return t.showResults()}}},[s("b-icon",{attrs:{variant:"cream","font-scale":"1.5",icon:"arrow"}})],1)]),t._v(" "),s("td",[s("button",{staticClass:"buttonDiv bg-safe px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){return t.getDetails(i)}}},[s("b-icon-arrow-clockwise",{attrs:{variant:"cream","font-scale":"1.5"}})],1),t._v(" "),s("button",{staticClass:"buttonDiv bg-danger px-3",staticStyle:{width:"60px",float:"right"},on:{click:function(e){return t.deleteAlert(i)}}},[s("b-icon",{attrs:{variant:"cream","font-scale":"1.5",icon:"trash-fill"}})],1)])])}),0)]),t._v(" "),s("div",{staticClass:"mt-2 bg-warn p-2"},[s("b-row",[s("b-col",[s("h3",{staticClass:"text-cream"},[t._v(" Active Test: "+t._s(t.activeTest)+" ")])]),t._v(" "),s("b-col",[s("b-form-select",{staticClass:"bg-second text-cream",attrs:{options:t.activeOptions,"select-size":1},on:{change:function(e){return t.updateActive()}},model:{value:t.activeTest,callback:function(e){t.activeTest=e},expression:"activeTest"}})],1),t._v(" "),s("b-col",[s("button",{staticClass:"buttonDiv bg-dark text-safe px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){return t.newTest()}}},[t._v("\n                    New Test\n              ")])])],1)],1)]),t._v(" "),t.showDetails?s("div",[s("div",{staticClass:"mt-2 bg-warn p-2 head"},[s("b-row",[s("b-col",[s("h3",{staticClass:"text-cream"},[t._v(" Test Details ")])]),t._v(" "),s("b-col",[s("b-input-group",{attrs:{label:"Test Title:","label-for":"exampleInput1"}},[s("b-input-group-prepend",{attrs:{inline:"","is-text":""}},[s("b-icon",{attrs:{icon:"envelope"}})],1),t._v(" "),s("b-form-input",{attrs:{id:"exampleInput1",required:"",placeholder:"Enter Test Name"},model:{value:t.testDetails.title,callback:function(e){t.$set(t.testDetails,"title",e)},expression:"testDetails.title"}})],1)],1),t._v(" "),s("b-col",[s("button",{staticClass:"buttonDiv bg-safe text-cream px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){return t.saveTest()}}},[t._v("\n                    Save Test\n              ")])])],1)],1),t._v(" "),s("div",[s("b-input-group",{attrs:{label:"Vocab:","label-for":"exampleInput2"}},[s("b-input-group-prepend",{attrs:{inline:"","is-text":""}},[s("b-icon",{attrs:{icon:"envelope"}})],1),t._v(" "),s("b-form-input",{attrs:{id:"exampleInput2",placeholder:"Search Vocab"},model:{value:t.selected[0],callback:function(e){t.$set(t.selected,0,e)},expression:"selected[0]"}})],1)],1),t._v(" "),s("div",{staticClass:"mb-0"},[s("b-table",{attrs:{striped:"",hover:"",items:t.tableItems,fields:t.fields,filter:t.selected,"filter-function":t.filterTable,"show-empty":"",fixed:"","head-variant":"dark"},scopedSlots:t._u([{key:"cell(english)",fn:function(e){return[t.testDetails.list.includes(e.item.English)?[s("b-icon-star-fill",{attrs:{variant:"safe"},on:{click:function(s){return t.addCheck(e.item.English,0)}}}),t._v(" "),s("span",{staticClass:"d-lg-none"},[t._v("   "),s("br")])]:[s("b-icon-star",{on:{click:function(s){return t.addCheck(e.item.English,1)}}}),t._v("   "),s("br",{staticClass:"d-lg-none"})],t._v(" "),s("span",{attrs:{id:e.value+"_en/"},on:{click:function(s){return t.playAudio(e.value,"_en/",e.item.mp3en,!0)}}},[t._v(" "+t._s(e.value)+" ("+t._s(e.item.Gr)+") ")])]}},{key:"cell(chineseext)",fn:function(e){return[s("span",{attrs:{id:e.item.English+"_ch/"},on:{click:function(s){return t.playAudio(e.item.English,"_ch/",e.item.mp3ch,!0)}}},[t._v(" "+t._s(e.value)+" ")])]}}],null,!1,2577292490)})],1)]):t._e(),t._v(" "),s("b-modal",{ref:"success",attrs:{"hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":"",align:"center","hide-footer":"",title:"Success"}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" "+t._s(t.msg)+" ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-prime text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("success")}}},[t._v("Close")])]),t._v(" "),s("b-modal",{ref:"fail",attrs:{"hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":"",align:"center","hide-footer":"",title:"Problem Found"}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" "+t._s(t.msg)+" ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-alert text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("fail")}}},[t._v("Close")])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("Test")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Type")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Vocab")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Status")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Results")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Action")])])])}]};var n=s("VU/8")(a,r,!1,function(t){s("r15q")},"data-v-77bbff03",null);e.default=n.exports},KYPk:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("fZjL"),o=s.n(i),a=s("Dd8w"),r=s.n(a),n=s("xEZN"),c={name:"InstClass",props:{s3:String},components:{InstPicts:n.default},data:function(){return{counterKeys:{transEng:"English Test",transCh:"Chinese Test",typeTest:"Type Test",matchTrans:"Match",matchType:"Type Match"},scoreShow:{},pictShow:{},pictShowOne:null}},methods:{getVariant:function(t){return{strong:"spanDiv bg-safe-light text-prime",good:"spanDiv bg-third text-prime",okay:"spanDiv bg-grey text-prime",weak:"spanDiv bg-warn-light text-prime",problem:"spanDiv bg-alert-light text-prime","not tested":"spanDiv bg-cream text-prime"}[t]},showScores:function(t){this.scoreShow[t]&&0!==this.scoreShow[t]?this.scoreShow[t]=0:this.scoreShow[t]=1,this.scoreShow=r()({},this.scoreShow),console.log(t,this.scoreShow)},showPicts:function(t){this.pictShow[t]&&0!==this.pictShow[t]?this.pictShow[t]=0:this.pictShow[t]=1,this.pictShow=r()({},this.pictShow),console.log(t,this.pictShow)},showPictsOne:function(t){this.pictShowOne=t},valueSum:function(t){var e=0;for(var s in t)e+=t[s];return e},getLength:function(t){return delete t.add,o()(t).length},getDates:function(t){var e={};for(var s in t){var i=s.substring(4,7);e[i]||"ce"===i?"ce"!==i&&(e[i]+=1):e[i]=1}return e},userRecItems:function(t){var e={transEng:{strong:0,good:0,okay:0,weak:0,problem:0},transCh:{strong:0,good:0,okay:0,weak:0,problem:0},typeTest:{strong:0,good:0,okay:0,weak:0,problem:0},matchTrans:{strong:0,good:0,okay:0,weak:0,problem:0},matchType:{strong:0,good:0,okay:0,weak:0,problem:0}};for(var s in t)for(var i in t[s]){var o=t[s][i];o>=2?e[s].strong+=1:1===o?e[s].good+=1:0===o?e[s].okay+=1:-1===o?e[s].weak+=1:o<=-2&&(e[s].problem+=1)}return e},vocabCount:function(t,e){var s={};for(var i in t)for(var a in t[i])s[a]=1;return o()(s).length}},computed:{classRecords:function(){return this.$store.getters.classRecords},classGroups:function(){return this.$store.getters.classGroups}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"instClass"}},[s("div",{staticClass:"bg-white mt-0 p-0"},[s("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),s("tbody",[t._l(t.classRecords,function(e,i){return[s("tr",{key:i},[s("td",{staticStyle:{width:"150px"}},[t._v(t._s(i)+"# "+t._s(e.user))]),t._v(" "),s("td",[s("b-form-select",{staticStyle:{width:"50px","overflow-y":"hidden"}},t._l(t.getDates(e.logsRecord.logs),function(e,i){return s("option",{key:e[0]},[t._v(" "+t._s(i)+": "+t._s(e)+"  ")])}),0)],1),s("td",[s("div",{staticStyle:{width:"70px",display:"inline-block"}},[s("b-icon-star-fill",{attrs:{variant:"warning","font-scale":"1.5"}}),t._v(" "+t._s(t.getLength(e.setRecord.starRecord))+"\n                          ")],1),t._v(" "),s("div",{staticStyle:{display:"inline-block"}},[s("b-form-select",{staticStyle:{width:"100px","overflow-y":"hidden"}},t._l(e.setRecord.starRecord,function(e,i){return s("option",{key:i},[t._v(" "+t._s(i)+" ")])}),0)],1)]),t._v(" "),s("td",[s("div",{staticStyle:{width:"70px",display:"inline-block"}},[s("b-icon-images",{attrs:{variant:"safe","font-scale":"1.5"},on:{click:function(e){return t.showPictsOne(i)}}}),t._v(" "+t._s(t.getLength(e.setRecord.dictRecord))+"\n                          ")],1),t._v(" "),s("div",{staticStyle:{display:"inline-block"}},[s("b-form-select",{staticStyle:{width:"100px","overflow-y":"hidden",display:"inline"}},t._l(e.setRecord.dictRecord,function(e,i){return s("option",{key:i},[t._v(" "+t._s(i)+" ")])}),0)],1)]),t._v(" "),s("td",[s("div",{staticStyle:{width:"70px",display:"inline-block"}},[s("b-icon-arrow-up-circle-fill",{attrs:{variant:"info","font-scale":"1.5"}}),t._v(" "+t._s(t.getLength(e.setRecord.addRecord))+"\n                          ")],1),t._v(" "),s("div",{staticStyle:{display:"inline-block"}},[s("b-form-select",{staticStyle:{width:"100px","overflow-y":"hidden"}},t._l(e.setRecord.addRecord,function(e,i){return s("option",{key:i},[t._v(" "+t._s(i)+" ")])}),0)],1)]),t._v(" "),s("td",[s("b-icon",{attrs:{icon:"bar-chart-fill",variant:"alert","font-scale":"1.5"},on:{click:function(e){return t.showScores(i)}}}),t._v(" "+t._s(t.vocabCount(e.userRecord,e.user))+"\n                        ")],1)]),t._v(" "),s("transition",{key:i,attrs:{name:"tableboard"}},[i.toString()in t.scoreShow&&1===t.scoreShow[i.toString()]?s("tr",[s("td",{attrs:{colspan:"6"}},t._l(t.userRecItems(e.userRecord),function(e,i){return s("b-row",{key:i},[s("b-col",{attrs:{cols:"2",align:"right"}},[t._v("\n                                  "+t._s(t.counterKeys[i])+"\n                                ")]),t._v(" "),s("b-col",[t.valueSum(e)>0?s("div",[s("b-progress",{staticStyle:{height:"20px"},attrs:{"show-value":""}},[s("b-progress-bar",{attrs:{value:e.problem,variant:t.getVariant("problem")}}),t._v(" "),s("b-progress-bar",{attrs:{value:e.weak,variant:t.getVariant("weak")}}),t._v(" "),s("b-progress-bar",{attrs:{value:e.okay,variant:t.getVariant("okay")}}),t._v(" "),s("b-progress-bar",{attrs:{value:e.good,variant:t.getVariant("good")}}),t._v(" "),s("b-progress-bar",{attrs:{value:e.strong,variant:t.getVariant("strong")}})],1)],1):t._e()])],1)}),1)]):t._e()]),t._v(" "),s("transition",{key:i,attrs:{name:"tableboard"}},[i.toString()===t.pictShowOne?s("tr",[s("td",{attrs:{colspan:"6"}},[s("InstPicts",{attrs:{student:i,itemMaster:e}})],1)]):t._e()])]})],2)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("Student")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Logs")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Favs")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Pics")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Adds")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Stats")])])])}]};var u=s("VU/8")(c,l,!1,function(t){s("kZzB")},"data-v-4cbe9fa2",null);e.default=u.exports},N7IE:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("KYPk"),o=s("Goic"),a={name:"Instructor",props:{s3:String},components:{InstClass:i.default,InstTests:o.default},data:function(){return{show:null,waiting:!1}},methods:{getClass:function(t){this.waiting=!0,this.$store.dispatch("instructorLogs",{group:t,action:"getNotesInstructor"}),this.$store.dispatch("instructorLogs",{group:t,action:"getTests"}),this.$store.dispatch("classRecords",{userID:this.$store.state.userProfile.userID,classroom:t}),this.show="class"},getTests:function(){this.waiting=!0,this.show="tests"},saveRecords:function(){this.$store.state.studentNotes!=={}&&this.$store.dispatch("instructorLogs",{group:this.$store.state.classLoad,action:"setNotes",notes:this.$store.state.studentNotes})}},created:function(){this.$store.dispatch("classGroups",{userID:this.$store.state.userProfile.userID})},computed:{classRecords:function(){return this.$store.getters.classRecords},classGroups:function(){return this.$store.getters.classGroups},testRecords:function(){return this.$store.getters.testRecords}},beforeDestroy:function(){this.saveRecords()}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"instructor"}},[s("div",{staticClass:"mt-2 bg-second p-2 head"},[s("div",{staticClass:"ml-2"},[s("b-row",[s("b-col",[s("h3",{staticClass:"text-cream"},[t._v(" Instructor Dashboard ")])])],1)],1)]),t._v(" "),s("div",{staticClass:"bg-white"},[s("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),s("tbody",t._l(t.classGroups,function(e,i){return s("tr",{key:i},[s("th",{attrs:{scope:"row"}},[t._v(t._s(i))]),t._v(" "),s("td",[t._v(t._s(e.code))]),t._v(" "),s("td",[t._v(" "+t._s(e.count))]),t._v(" "),s("td",[s("button",{staticClass:"buttonDiv bg-info px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(s){return t.getClass(e.code)}}},[s("b-icon-arrow-clockwise",{attrs:{variant:"cream","font-scale":"1.5"}})],1)])])}),0)])]),t._v(" "),s("div",{staticClass:"mt-2 bg-second p-2 head"},[s("div",{staticClass:"ml-2"},[s("b-row",[s("b-col",[s("h3",{staticClass:"text-cream"},[t._v(" Class: "+t._s(t.$store.state.classLoad)+" ")])]),t._v(" "),t.$store.state.classLoad?[s("b-col",[s("button",{staticClass:"buttonDiv bg-info text-cream px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){t.show="class"}}},[t._v("\n                          CLASS LIST\n              ")])]),t._v(" "),s("b-col",["class"===t.show?s("button",{staticClass:"buttonDiv bg-alert text-cream px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){return t.saveRecords()}}},[t._v("\n                          SAVE NOTES\n              ")]):t._e()]),t._v(" "),s("b-col",[s("button",{staticClass:"buttonDiv bg-warn text-cream px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){return t.getTests()}}},[t._v("\n                          TESTS\n              ")])])]:t._e()],2)],1)]),t._v(" "),t.classRecords&&"class"===t.show?s("div",{staticClass:"bg-white mt-0 p-0"},[s("InstClass")],1):t.testRecords&&"tests"===t.show?s("div",{staticClass:"bg-white mt-0 p-0"},[s("InstTests")],1):t.waiting?s("div",{staticClass:"bg-smoke",attrs:{align:"center"}},[s("br"),t._v(" "),s("br"),t._v(" "),s("h4",{staticClass:"text-prime"},[t._v(" Loading Data ")]),t._v(" "),s("b-icon",{attrs:{icon:"three-dots",animation:"cylon",variant:"prime","font-scale":"6"}}),t._v(" "),s("br"),t._v(" "),s("br")],1):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("#")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Class")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Students")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Load")])])])}]};var n=s("VU/8")(a,r,!1,function(t){s("erL4")},"data-v-7fd75512",null);e.default=n.exports},erL4:function(t,e){},kZzB:function(t,e){},r15q:function(t,e){}});
//# sourceMappingURL=2.aa509d3159cd627343a6.js.map