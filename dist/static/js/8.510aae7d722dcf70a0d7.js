webpackJsonp([8],{"1Q+e":function(t,e){},xEZN:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("Dd8w"),n=s.n(o),i={name:"IntPict",props:{s3:String,itemMaster:Object,student:String},data:function(){return{msg:null,item:{},save:!0,classRecords:{},notes:{},pields:[{key:"link",label:"Picture",sortable:!0},{key:"def",label:"Info",sortable:!0},{key:"status",label:"Record",sortable:!0}],optionsR:[{value:null,text:"-"},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"},{value:5,text:"5"}],color:{null:"smoke",1:"safe",2:"alert",3:"warn",4:"p1",5:"p2"},noteCodes:{null:null,1:"Good",2:"Grammar",3:"Punctuation",4:"Detail",5:"Spelling"}}},methods:{showModal:function(){this.$refs.success.show()},showDelete:function(){this.$refs.delete.show()},hideModal:function(t){},getImage:function(t,e,s,o){return"add"===e?"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/add.jpg":"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/profiles/"+s+"/"+o+"/"+t+e+".jpg"},saveData:function(){this.save&&this.$store.dispatch("updateNotes",{notes:this.notes})},getPictArray:function(t){var e=[];for(var s in t)e.push(t[s]);return console.log("pictList",e),e},getColor:function(t){var e=0;if(t.word){var s=t.word;e=this.item.setRecord.dictRecord[s].status}return this.color[e]},radioAction:function(t){var e=t.word,s=this;console.log("dItem",t),setTimeout(function(){s.item=n()({},s.item),s.notes[s.student][e]=t},100)}},created:function(){for(var t in this.classRecords=n()({},this.$store.getters.classRecords),this.notes=n()({},this.$store.state.studentNotes),this.item=n()({},this.itemMaster),console.log("NOTES",this.notes),console.log(this.item),this.notes[this.student])this.item.setRecord.dictRecord[t].status=this.notes[this.student][t].status,this.item.setRecord.dictRecord[t].note=this.notes[this.student][t].note},beforeDestroy:function(){this.saveData()}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Intpict"},[s("b-table",{attrs:{striped:"",hover:"",items:t.getPictArray(t.item.setRecord.dictRecord),fields:t.pields,"head-variant":"dark"},scopedSlots:t._u([{key:"cell(link)",fn:function(e){return[s("h5",[t._v(" "+t._s(e.item.word)+" ")]),t._v(" "),s("h5",[t._v(" "+t._s(e.item.chinese)+" ")]),t._v(" "),s("b-img",{staticStyle:{"max-width":"100px"},attrs:{thumbnail:"",fluid:"",src:t.getImage(e.item.word,e.item.link,t.student,e.item.vocab)}})]}},{key:"cell(def)",fn:function(e){return[s("span",{staticStyle:{color:"green"}},[t._v(" "+t._s(e.value)+" ")]),t._v(" "),s("hr"),t._v("\n        "+t._s(e.item.text)+"\n\n      "),null!==e.item.status&&0!==e.item.status?s("div",[s("hr"),t._v(" "),s("b-form-input",{attrs:{placeholder:"Add Note"},model:{value:e.item.note,callback:function(s){t.$set(e.item,"note",s)},expression:"data.item.note"}})],1):t._e()]}},{key:"cell(status)",fn:function(e){return[s("b-form-radio-group",{attrs:{id:"btn-radios-2",options:t.optionsR,buttons:"","button-variant":t.getColor(e.item),size:"sm",name:"radio-btn-outline"},on:{change:function(s){return t.radioAction(e.item)}},model:{value:e.item.status,callback:function(s){t.$set(e.item,"status",s)},expression:"data.item.status"}}),t._v(" "),s("br"),t._v("\n\n          "+t._s(t.noteCodes[e.item.status])+"\n      ")]}}])}),t._v(" "),s("b-modal",{ref:"success",attrs:{"hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":"",align:"center","hide-footer":"",title:"Image Adder"}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" "+t._s(t.msg)+" ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-warn text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("success")}}},[t._v("Close")])]),t._v(" "),s("b-modal",{ref:"delete",attrs:{"hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":"",align:"center","hide-footer":"",title:"Delete Picture"}},[s("div",{staticClass:"d-block"},[s("h3",[t._v(" "+t._s(t.msg)+" ")])]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-grey text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("cancel")}}},[t._v("Cancel")]),t._v(" "),s("button",{staticClass:"buttonDiv mt-3 bg-alert text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal("delete")}}},[t._v("Delete")])])],1)},staticRenderFns:[]};var r=s("VU/8")(i,a,!1,function(t){s("1Q+e")},"data-v-5df713e7",null);e.default=r.exports}});
//# sourceMappingURL=8.510aae7d722dcf70a0d7.js.map