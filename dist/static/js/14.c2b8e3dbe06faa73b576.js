webpackJsonp([14],{"as+C":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),n=s.n(i),o=s("fZjL"),r=s.n(o),a=s("Dd8w"),c=s.n(a),u=s("xEZN"),l={name:"InstSent",props:{s3:String,group:String},components:{InstPicts:u.default},data:function(){return{show:"quiz",notes:{},scoreShow:{},pictShow:{},pictShowOne:null,quizList:[],quizFields:[{key:"user",label:"User",sortable:!0},{key:"studentID",label:"ID",sortable:!0},{key:"word",label:"Word",sortable:!0},{key:"link",label:"Picture"},{key:"def",label:"Def"},{key:"text",label:"Sentence"},{key:"status",label:"Status",sortable:!0},{key:"code",label:"code",sortable:!0}]}},methods:{showPicts:function(t){this.pictShow[t]&&0!==this.pictShow[t]?this.pictShow[t]=0:this.pictShow[t]=1,this.pictShow=c()({},this.pictShow),console.log(t,this.pictShow)},showPictsOne:function(t){this.pictShowOne===t?this.pictShowOne=null:this.pictShowOne=t},getLength:function(t){return delete t.add,r()(t).length},saveRecords:function(){this.$store.state.instructor.studentNotes!=={}&&"students"===this.show?(console.log("saveRecords"),this.$store.dispatch("instructorLogs",{group:this.$store.state.instructor.classLoad,action:"setNotes",notes:this.$store.state.instructor.studentNotes})):"quiz"===this.show&&this.$store.dispatch("instructorLogs",{group:this.$store.state.instructor.classLoad,action:"setPictQuiz",notes:this.quizList})},getImage:function(t,e,s,i){return"add"===e?"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/add.jpg":"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/profiles/"+s+"/"+i+"/"+t+e+".jpg"},getVariant:function(t,e){var s=this.quizList.find(function(s){return s.word===t&&s.userID===e});return s?s.def&&s.text?["safe",null]:s.def?["warn","Def Only"]:s.text?["warn","Text Only"]:["info","Picture Only"]:["outline-alert",null]},editQuizList:function(t,e,s,i,o){var r={word:t,def:e,text:s,link:i,userID:o},a=this.quizList.find(function(e){return e.word===t&&e.userID===o});if(a)if(a.def)a.def=null;else if(a.text)a.def=e,a.text=null;else{var c=this.quizList.indexOf(a);c>-1&&this.quizList.splice(c,1)}else this.quizList.push(r);console.log(n()(this.quizList))}},computed:{classRecords:function(){return this.$store.getters.classRecords},classGroups:function(){return this.$store.getters.classGroups},getQuizArray:function(){var t=[];for(var e in this.classRecords)for(var s in this.classRecords[e].setRecord.dictRecord){var i=c()({},this.classRecords[e].setRecord.dictRecord[s]);i.user=this.classRecords[e].user,i.userID=e,i.studentID=this.classRecords[e].studentID,this.notes[e][s]&&(i.status=this.notes[e][s].status),t.push(i)}return console.log("quizArray",t),t}},created:function(){this.$store.dispatch("instructorLogs",{group:this.group,action:"getNotesInstructor"}),this.notes=c()({},this.$store.state.instructor.studentNotes)},beforeDestroy:function(){}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"instSent"}},[s("div",{staticClass:"bg-white mt-0 p-0"},[s("div",{staticClass:"bg-grey p-2"},[s("b-row",[s("b-col",{attrs:{align:"right"}},[s("button",{staticClass:"buttonDiv bg-safe-light text-prime px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){return t.showPictsOne("all")}}},[t._v("\n                  Show All\n          ")]),t._v(" "),s("button",{staticClass:"buttonDiv bg-safe-light text-prime px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){t.show="students"}}},[t._v("\n                  Show Students\n          ")]),t._v(" "),s("button",{staticClass:"buttonDiv bg-safe-light text-prime px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){t.show="quiz"}}},[t._v("\n                  Show Quiz List\n          ")]),t._v(" "),s("button",{staticClass:"buttonDiv bg-info text-prime px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){return t.saveRecords()}}},[t._v("\n                  Save\n          ")])])],1)],1),t._v(" "),"students"===t.show?s("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),s("tbody",[t._l(t.classRecords,function(e,i){return[s("tr",{key:i},[s("td",{staticStyle:{width:"150px"}},[t._v(t._s(e.studentID))]),t._v(" "),s("td",{staticStyle:{width:"150px"}},[t._v(t._s(e.user))]),t._v(" "),s("td",[s("div",{staticStyle:{width:"70px",display:"inline-block"}},[s("b-icon-images",{attrs:{variant:"safe","font-scale":"1.5"}}),t._v(" "+t._s(t.getLength(e.setRecord.dictRecord))+"\n                          ")],1),t._v(" "),s("div",{staticStyle:{display:"inline-block"}},[s("b-form-select",{staticStyle:{width:"100px","overflow-y":"hidden",display:"inline"}},t._l(e.setRecord.dictRecord,function(e,i){return s("option",{key:i},[t._v(" "+t._s(i)+" ")])}),0)],1)]),t._v(" "),s("td",{attrs:{align:"left"}},[s("button",{staticClass:"buttonDiv bg-safe text-cream px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){return t.showPictsOne(i)}}},[t._v("\n                                OPEN\n                          ")])])]),t._v(" "),s("transition",{key:i,attrs:{name:"tableboard"}},[i.toString()===t.pictShowOne||"all"===t.pictShowOne?s("tr",[s("td",{attrs:{colspan:"6"}},[s("InstPicts",{attrs:{student:i,itemMaster:e}})],1)]):t._e()])]})],2)]):t._e(),t._v(" "),"quiz"===t.show?s("b-table",{attrs:{striped:"",hover:"",items:t.getQuizArray,fields:t.quizFields,"head-variant":"dark"},scopedSlots:t._u([{key:"cell(word)",fn:function(e){return[s("h5",[t._v(" "+t._s(e.item.word)+" ")]),t._v(" "),s("h6",[t._v(" "+t._s(e.item.chinese)+" ")])]}},{key:"cell(link)",fn:function(e){return[s("b-img",{staticStyle:{"max-width":"100px"},attrs:{thumbnail:"",fluid:"",src:t.getImage(e.item.word,e.item.link,e.item.userID,e.item.vocab)}})]}},{key:"cell(def)",fn:function(e){return[t._v("\n        "+t._s(e.item.def)+"\n      ")]}},{key:"cell(text)",fn:function(e){return[t._v("\n        "+t._s(e.item.text)+"\n      ")]}},{key:"cell(code)",fn:function(e){return[s("b-button",{staticClass:"mb-2",attrs:{variant:t.getVariant(e.item.word,e.item.userID)[0]},on:{click:function(s){return t.editQuizList(e.item.word,e.item.def,e.item.text,e.item.link,e.item.userID)}}},[s("b-icon",{attrs:{icon:"power","aria-hidden":"true"}})],1),t._v("\n        "+t._s(t.getVariant(e.item.word,e.item.userID)[1])+"\n      ")]}}],null,!1,3078387112)}):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("ID")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Student")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Pics")])])])}]};var h=s("VU/8")(l,d,!1,function(t){s("lGai")},"data-v-17886f9e",null);e.default=h.exports},lGai:function(t,e){}});
//# sourceMappingURL=14.c2b8e3dbe06faa73b576.js.map