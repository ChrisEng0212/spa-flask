webpackJsonp([1],{R4x1:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"TransCh",components:{Toolbar:s("djO7").default},data:function(){return{pageHead:"Chinese --\x3e English",toolbarShow:!0,max:100,value:20,testType:"TransCh",buttonRotate:null,hover:!1,hoverAns:!1,showAnswers:!1,showTest:!1,answerData:[],filter:null,testItems:[],settings:{},timer:null,fields:["Chinese","English","Choice"],buttonStyle:{0:{color:"white"},1:{color:"white"},2:{color:"white"},3:{color:"white"},4:{color:"white"},5:{color:"white"}}}},methods:{recordAnswer:function(t,e,s){console.log(t,e,s);var n=void 0,o=void 0;s===t?(n=1,o="success"):(n=-1,o="danger");var i={English:t,Chinese:e,Choice:s,Score:n,_rowVariant:o};this.answerData.push(i),this.filter+1<this.testItems.length?(console.log("filterCheck",this.filter,this.testItems.length),"sdEx"===this.settings.sound&&(this.buttonStyle[this.buttonRotate-1]={color:"white"},clearInterval(this.timer),this.buttonRotate=0,this.timerSet()),this.filter+=1):(console.log("filterMax"),clearInterval(this.timer),this.filter=null,this.showTest=!1,this.checkAnswers())},start:function(t){this.showAnswers=!1,this.filter=0,this.answerData=[],this.showTest=!0,t&&(this.testItems=t.test,this.settings=JSON.parse(t.settings)),"sdEx"===this.settings.sound&&(this.buttonRotate=0,this.timerSet())},checkAnswers:function(){this.showAnswers=!0,this.$store.dispatch("updateRecord",{mode:"trans",answerData:this.answerData,settingsData:this.settings})},playAudio:function(t){document.getElementById("audio").src=t},timerSet:function(){var t=this;this.timer=setInterval(function(){if(console.log("buttonRotate",t.buttonRotate,t.settings.choices,t.testItems[t.filter]),t.buttonStyle[t.buttonRotate-1]={color:"white"},t.buttonStyle[t.buttonRotate]={color:"yellow"},t.buttonRotate<t.settings.choices){var e=t.testItems[t.filter].Choices[t.buttonRotate];t.playAudio(e.sdEn),t.buttonRotate+=1,console.log("plus1")}else console.log("clear"),t.buttonRotate=null,clearInterval(t.timer)},1800)}},watch:{filter:function(){var t=this.testItems[this.filter];t&&"sdOff"!==this.settings.sound&&null===this.buttonRotate&&this.playAudio(t.sdEn)},hover:function(){if(!0===this.hover&&null===this.buttonRotate){console.log("hover_active");var t=this.testItems[this.filter];this.playAudio(t.sdCh)}},hoverAns:function(){if(null!==this.hoverAns&&null===this.buttonRotate&&"sdEx"===this.settings.sound){console.log("hoverAns_active");var t=this.hoverAns;this.playAudio(t)}}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"TransCh"},[s("b-container",[s("audio",{attrs:{id:"audio",autoplay:""}}),t._v(" "),s("b-card",{staticClass:"my-2"},[s("h2",[t._v("\n        "+t._s(t.pageHead)+"\n      ")])])],1),t._v(" "),s("Toolbar",{attrs:{toolbarShow:t.showTest,showAnswers:t.showAnswers,testType:t.testType},on:{newTest:function(e){return t.start(e)},retry:function(e){return t.start()}}}),t._v(" "),s("b-container",[t.showTest?s("b-card",{staticClass:"my-2"},[s("b-progress",{attrs:{value:t.filter,max:t.testItems.length,"show-progress":"",animated:""}})],1):t._e()],1),t._v(" "),s("b-container",[t.showTest?s("b-card",{staticClass:"my-2"},t._l(t.testItems,function(e,n){return s("div",{key:n},[s("b-row",[s("b-col",[t.testItems.indexOf(e)===t.filter?s("b-card",{class:{active:t.hover},attrs:{align:"center"},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[s("h3",["lbOn"===t.settings.label||"lbQu"===t.settings.label?s("span",[t._v("   ("+t._s(e.Gr)+") ")]):t._e(),t._v(" "),s("span",[t._v(" "+t._s(e.Chinese)+" ")])])]):t._e()],1)],1),t._v(" "),s("b-row",[s("b-col",[t.testItems.indexOf(e)===t.filter?s("b-card",t._l(e.Choices,function(n,o){return s("div",{key:o},[s("b-button",{style:t.buttonStyle[o],attrs:{block:""},on:{click:function(s){return t.recordAnswer(e.English,e.Chinese,n.English)}}},["sdEx"===t.settings.sound?s("span",[s("b-icon-soundwave",{on:{mouseover:function(e){t.hoverAns=n.sdEn},mouseleave:function(e){t.hoverAns=null}}})],1):"lbAn"===t.settings.label||"sdEx"!==t.settings.sound?s("span",[t._v(" ("+t._s(n.Gr)+")    "+t._s(n.English)+" ")]):s("span",[t._v(t._s(n.English))])]),t._v(" "),s("br"),t._v(" "),s("br")],1)}),0):t._e()],1)],1)],1)}),0):t._e()],1),t._v(" "),t.showAnswers?s("b-container",[s("b-card",{staticClass:"my-2"},[s("b-table",{attrs:{striped:"",hover:"",items:t.answerData,fields:t.fields}})],1)],1):t._e()],1)},staticRenderFns:[]};var i=s("VU/8")(n,o,!1,function(t){s("dmgr")},"data-v-b833cffe",null);e.default=i.exports},dmgr:function(t,e){}});
//# sourceMappingURL=1.61ff2ca711e8e4a036a0.js.map