webpackJsonp([8],{"as+C":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("mvHQ"),n=i.n(s),o=i("fZjL"),r=i.n(o),c=i("Dd8w"),a=i.n(c),l=i("xEZN"),u={name:"InstSent",props:{s3:String,group:String},components:{InstPicts:l.default},data:function(){return{show:"quiz",notes:{},scoreShow:{},pictShow:{},pictShowOne:null,quizList:[],quizFields:[{key:"user",label:"User",sortable:!0},{key:"studentID",label:"ID",sortable:!0},{key:"word",label:"Word",sortable:!0},{key:"link",label:"Picture"},{key:"def",label:"Def"},{key:"text",label:"Sentence"},{key:"status",label:"Status",sortable:!0},{key:"code",label:"code",sortable:!0}],listFields:[{key:"word",label:"Word",sortable:!0},{key:"link",label:"Picture"},{key:"def",label:"Def"},{key:"text",label:"Sentence"},{key:"userID",label:"Action"}],picture:{}}},methods:{showPicts:function(t){this.pictShow[t]&&0!==this.pictShow[t]?this.pictShow[t]=0:this.pictShow[t]=1,this.pictShow=a()({},this.pictShow),console.log(t,this.pictShow)},showPictsOne:function(t){this.pictShowOne===t?this.pictShowOne=null:this.pictShowOne=t},getLength:function(t){return delete t.add,r()(t).length},saveRecords:function(){this.$store.state.instructor.studentNotes!=={}&&"students"===this.show?(console.log("saveRecords"),this.$store.dispatch("instructorLogs",{group:this.$store.state.instructor.classLoad,action:"setNotes",notes:this.$store.state.instructor.studentNotes})):"quiz"===this.show&&this.$store.dispatch("instructorLogs",{group:this.$store.state.instructor.classLoad,action:"setPictQuiz",notes:this.quizList})},setPicture:function(t,e,i,s){this.picture={word:t,link:e,userID:i,vocab:s},this.showModal()},showModal:function(){this.$refs.pic.show()},hideModal:function(){this.$refs.pic.hide()},getImage:function(t,e,i,s){return"add"===e?"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/add.jpg":"https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/profiles/"+i+"/"+s+"/"+t+e+".jpg"},getVariant:function(t,e){var i=this.quizList.find(function(i){return i.word===t&&i.userID===e});return i?i.def&&i.text?["safe",null]:i.def?["warn","Def Only"]:i.text?["warn","Text Only"]:["info","Picture Only"]:["outline-alert",null]},editQuizList:function(t,e,i,s,o,r){var c={word:t,def:e,text:i,link:s,userID:o,vocab:r},a=this.quizList.find(function(e){return e.word===t&&e.userID===o});if(a)if(a.def)a.def=null;else if(a.text)a.def=e,a.text=null;else{var l=this.quizList.indexOf(a);l>-1&&this.quizList.splice(l,1)}else this.quizList.push(c);console.log(n()(this.quizList))},removeFromList:function(t,e){var i=this.quizList.find(function(i){return i.word===t&&i.userID===e});if(i){var s=this.quizList.indexOf(i);s>-1&&this.quizList.splice(s,1)}console.log(n()(this.quizList))}},computed:{classRecords:function(){return this.$store.getters.classRecords},classGroups:function(){return this.$store.getters.classGroups},getQuizArray:function(){var t=[];for(var e in this.classRecords)for(var i in this.classRecords[e].setRecord.dictRecord){var s=a()({},this.classRecords[e].setRecord.dictRecord[i]);s.user=this.classRecords[e].user,s.userID=e,s.studentID=this.classRecords[e].studentID,this.notes[e]&&this.notes[e][i]&&(s.status=this.notes[e][i].status),t.push(s)}return console.log("quizArray",t),t}},created:function(){this.$store.dispatch("instructorLogs",{group:this.group,action:"getNotesInstructor"}),this.notes=a()({},this.$store.state.instructor.studentNotes)},beforeDestroy:function(){}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"instSent"}},[i("div",{staticClass:"bg-white mt-0 p-0"},[i("div",{staticClass:"bg-grey p-2"},[i("b-row",[i("b-col",{attrs:{align:"right"}},[i("button",{staticClass:"buttonDiv bg-safe-light text-prime px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){return t.showPictsOne("all")}}},[t._v("\n                  Show All\n          ")]),t._v(" "),i("button",{staticClass:"buttonDiv bg-safe-light text-prime px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){t.show="students"}}},[t._v("\n                  Show Students\n          ")]),t._v(" "),i("button",{staticClass:"buttonDiv bg-safe-light text-prime px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){t.show="quiz"}}},[t._v("\n                  Show Quiz List\n          ")]),t._v(" "),i("button",{staticClass:"buttonDiv bg-safe text-cream px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){return t.saveRecords()}}},[t._v("\n                  Save\n          ")])])],1)],1),t._v(" "),"students"===t.show?i("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),i("tbody",[t._l(t.classRecords,function(e,s){return[i("tr",{key:s},[i("td",{staticStyle:{width:"150px"}},[t._v(t._s(e.studentID))]),t._v(" "),i("td",{staticStyle:{width:"150px"}},[t._v(t._s(e.user))]),t._v(" "),i("td",[i("div",{staticStyle:{width:"70px",display:"inline-block"}},[i("b-icon-images",{attrs:{variant:"safe","font-scale":"1.5"}}),t._v(" "+t._s(t.getLength(e.setRecord.dictRecord))+"\n                          ")],1),t._v(" "),i("div",{staticStyle:{display:"inline-block"}},[i("b-form-select",{staticStyle:{width:"100px","overflow-y":"hidden",display:"inline"}},t._l(e.setRecord.dictRecord,function(e,s){return i("option",{key:s},[t._v(" "+t._s(s)+" ")])}),0)],1)]),t._v(" "),i("td",{attrs:{align:"left"}},[i("button",{staticClass:"buttonDiv bg-safe text-cream px-3",staticStyle:{width:"auto",height:"auto"},on:{click:function(e){return t.showPictsOne(s)}}},[t._v("\n                                OPEN\n                          ")])])]),t._v(" "),i("transition",{key:s,attrs:{name:"tableboard"}},[s.toString()===t.pictShowOne||"all"===t.pictShowOne?i("tr",[i("td",{attrs:{colspan:"6"}},[i("InstPicts",{attrs:{student:s,itemMaster:e}})],1)]):t._e()])]})],2)]):t._e(),t._v(" "),"quiz"===t.show?i("b-table",{attrs:{striped:"",hover:"",items:t.quizList,fields:t.listFields,"head-variant":"dark","sticky-header":""},scopedSlots:t._u([{key:"cell(word)",fn:function(e){return[i("h5",[t._v(" "+t._s(e.item.word)+" ")])]}},{key:"cell(link)",fn:function(e){return[i("b-img",{staticStyle:{"max-width":"30px"},attrs:{fluid:"",src:t.getImage(e.item.word,e.item.link,e.item.userID,e.item.vocab)},on:{click:function(i){return t.setPicture(e.item.word,e.item.link,e.item.userID,e.item.vocab)}}})]}},{key:"cell(def)",fn:function(e){return[t._v("\n        "+t._s(e.item.def)+"\n      ")]}},{key:"cell(text)",fn:function(e){return[t._v("\n        "+t._s(e.item.text)+"\n      ")]}},{key:"cell(userID)",fn:function(e){return[i("b-button",{on:{click:function(i){return t.removeFromList(e.item.word,e.item.userID)}}},[i("b-icon",{attrs:{icon:"cross","aria-hidden":"true"}})],1)]}}],null,!1,236416297)}):t._e(),t._v(" "),"quiz"===t.show?i("b-table",{attrs:{striped:"",hover:"",items:t.getQuizArray,fields:t.quizFields,"head-variant":"dark"},scopedSlots:t._u([{key:"cell(word)",fn:function(e){return[i("h5",[t._v(" "+t._s(e.item.word)+" ")]),t._v(" "),i("h6",[t._v(" "+t._s(e.item.chinese)+" ")])]}},{key:"cell(link)",fn:function(e){return[i("b-img",{staticStyle:{"max-width":"100px"},attrs:{thumbnail:"",fluid:"",src:t.getImage(e.item.word,e.item.link,e.item.userID,e.item.vocab)}})]}},{key:"cell(def)",fn:function(e){return[t._v("\n        "+t._s(e.item.def)+"\n      ")]}},{key:"cell(text)",fn:function(e){return[t._v("\n        "+t._s(e.item.text)+"\n      ")]}},{key:"cell(code)",fn:function(e){return[i("b-button",{staticClass:"mb-2",attrs:{variant:t.getVariant(e.item.word,e.item.userID)[0]},on:{click:function(i){return t.editQuizList(e.item.word,e.item.def,e.item.text,e.item.link,e.item.userID,e.item.vocab)}}},[i("b-icon",{attrs:{icon:"power","aria-hidden":"true"}})],1),t._v("\n        "+t._s(t.getVariant(e.item.word,e.item.userID)[1])+"\n      ")]}}],null,!1,816181112)}):t._e()],1),t._v(" "),i("b-modal",{ref:"pic",attrs:{"hide-header-close":"",align:"center","hide-footer":"",title:"Image"}},[i("div",{staticClass:"d-block"},[i("b-img",{staticStyle:{"max-width":"200px"},attrs:{thumbnail:"",fluid:"",src:t.getImage(t.picture.word,t.picture.link,t.picture.userID,t.picture.vocab)}})],1),t._v(" "),i("button",{staticClass:"buttonDiv mt-3 bg-warn text-cream",staticStyle:{width:"60%"},on:{click:function(e){return t.hideModal()}}},[t._v("Close")])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("ID")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Student")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Pics")])])])}]};var h=i("VU/8")(u,d,!1,function(t){i("lpYl")},"data-v-b065c734",null);e.default=h.exports},lpYl:function(t,e){}});
//# sourceMappingURL=8.094994054f437df110d9.js.map