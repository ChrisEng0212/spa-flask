webpackJsonp([3],{E6Zw:function(t,s){},R4x1:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n={name:"TransCh",components:{Toolbar:e("djO7").default},data:function(){return{pageHead:"Chinese --\x3e English",toolbarShow:!0,max:100,value:20,testType:"TransCh",buttonRotate:null,hover:!1,hoverAns:!1,showAnswers:!1,showTest:!1,answerData:[],filter:null,testItems:[],settings:{},timer:null,fields:["Chinese","English","Choice"],buttonStyle:{0:{color:"white"},1:{color:"white"},2:{color:"white"},3:{color:"white"},4:{color:"white"},5:{color:"white"}}}},methods:{recordAnswer:function(t,s,e){console.log(t,s,e);var n=void 0,o=void 0;e===t?(n=1,o="success"):(n=-1,o="danger");var i={English:t,Chinese:s,Choice:e,Score:n,_rowVariant:o};this.answerData.push(i),this.filter+1<this.testItems.length?(console.log("filterCheck",this.filter,this.testItems.length),"sdEx"===this.settings.sound&&(this.buttonStyle[this.buttonRotate-1]={color:"white"},clearInterval(this.timer),this.buttonRotate=0,this.timerSet()),this.filter+=1):(console.log("filterMax"),clearInterval(this.timer),this.filter=null,this.showTest=!1,this.checkAnswers())},start:function(t){this.showAnswers=!1,this.filter=0,this.answerData=[],this.showTest=!0,t&&(this.testItems=t.test,this.settings=JSON.parse(t.settings)),"sdEx"===this.settings.sound&&(this.buttonRotate=0,this.timerSet())},checkAnswers:function(){this.showAnswers=!0,this.$store.dispatch("updateRecord",{mode:"trans",answerData:this.answerData,settingsData:this.settings})},playAudio:function(t){document.getElementById("audio").src=t},timerSet:function(){var t=this;this.timer=setInterval(function(){if(console.log("buttonRotate",t.buttonRotate,t.settings.choices,t.testItems[t.filter]),t.buttonStyle[t.buttonRotate-1]={color:"white"},t.buttonStyle[t.buttonRotate]={color:"yellow"},t.buttonRotate<t.settings.choices){var s=t.testItems[t.filter].Choices[t.buttonRotate];t.playAudio(s.sdEn),t.buttonRotate+=1,console.log("plus1")}else console.log("clear"),t.buttonRotate=null,clearInterval(t.timer)},1800)}},watch:{filter:function(){var t=this.testItems[this.filter];t&&"sdOff"!==this.settings.sound&&null===this.buttonRotate&&this.playAudio(t.sdEn)},hover:function(){if(!0===this.hover&&null===this.buttonRotate){console.log("hover_active");var t=this.testItems[this.filter];this.playAudio(t.sdCh)}},hoverAns:function(){if(null!==this.hoverAns&&null===this.buttonRotate&&"sdEx"===this.settings.sound){console.log("hoverAns_active");var t=this.hoverAns;this.playAudio(t)}}}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"TransCh"},[e("audio",{attrs:{id:"audio",autoplay:""}}),t._v(" "),e("Toolbar",{attrs:{toolbarShow:t.showTest,showAnswers:t.showAnswers,testType:t.testType},on:{newTest:function(s){return t.start(s)},retry:function(s){return t.start()}}}),t._v(" "),t.showTest?e("div",{staticClass:"mt-2 bg-sand p-2"},[e("b-progress",{attrs:{value:t.filter,max:t.testItems.length,"show-progress":"",animated:""}})],1):t._e(),t._v(" "),t.showTest?e("div",{staticClass:"mt-2 bg-success"},t._l(t.testItems,function(s,n){return e("div",{key:n},[e("b-row",[e("b-col",[t.testItems.indexOf(s)===t.filter?e("div",{class:{active:t.hover},attrs:{align:"center"},on:{mouseover:function(s){t.hover=!0},mouseleave:function(s){t.hover=!1}}},[e("h3",["lbOn"===t.settings.label||"lbQu"===t.settings.label?e("span",[t._v("   ("+t._s(s.Gr)+") ")]):t._e(),t._v(" "),e("span",[t._v(" "+t._s(s.Chinese)+" ")])])]):t._e()])],1),t._v(" "),e("b-row",[e("b-col",[t.testItems.indexOf(s)===t.filter?e("b-card",t._l(s.Choices,function(n,o){return e("div",{key:o},[e("b-button",{staticClass:"bg-primary",style:t.buttonStyle[o],attrs:{block:""},on:{click:function(e){return t.recordAnswer(s.English,s.Chinese,n.English)}}},["sdEx"===t.settings.sound?e("span",[e("b-icon-soundwave",{on:{mouseover:function(s){t.hoverAns=n.sdEn},mouseleave:function(s){t.hoverAns=null}}})],1):"lbAn"===t.settings.label||"sdEx"!==t.settings.sound?e("span",[t._v(" ("+t._s(n.Gr)+")    "+t._s(n.English)+" ")]):e("span",[t._v(t._s(n.English))])]),t._v(" "),e("br"),t._v(" "),e("br")],1)}),0):t._e()],1)],1)],1)}),0):t._e(),t._v(" "),t.showAnswers?e("b-container",[e("b-card",{staticClass:"mt-2"},[e("b-table",{attrs:{striped:"",hover:"",items:t.answerData,fields:t.fields}})],1)],1):t._e()],1)},staticRenderFns:[]};var i=e("VU/8")(n,o,!1,function(t){e("E6Zw")},"data-v-ae5cc0aa",null);s.default=i.exports}});
//# sourceMappingURL=3.671d024b40e1e4f6ed81.js.map