{"version":3,"sources":["webpack:///src/components/ToolbarMatch.vue","webpack:///./src/components/ToolbarMatch.vue?a171","webpack:///./src/components/ToolbarMatch.vue","webpack:///src/components/Toolbar.vue","webpack:///./src/components/Toolbar.vue?b37c","webpack:///./src/components/Toolbar.vue"],"names":["ToolbarMatch","name","props","toolbarShow","Boolean","showToolbar","showAnswers","testType","String","p1","Number","p1name","p2","p2name","player","waiting","socket","Object","data","s3","wordsReset","words","choices","retry","testItemsRoot","amendedList","toolbarSettings","optionsA","value","text","sound","soundOptions","spelling","spellingText","optionsO","feedback","feedbackOptions","methods","makeTest","this","vocabList","JSON","parse","stringItems","makeSpelling","makeChoices","i","randomItem","Math","floor","random","length","checkDuplicate","English","Chinese","Gr","sdEn","mp3en","sdCh","mp3ch","j","push","typoFix","randomChoice","includes","shuffChoices","shuffle","Choices","console","log","type","emit","room","testItems","parseInt","spell","utils","Spelling","label","display","$emit","test","settings","stringify_default","english","split","newString","index","retryTest","alphabet","letter","rand","testEntry","array","_ref","goTo","arg","$router","playerReady","watch","alert","created","tableItems","$store","getters","makeList","sortOptions","pop","components_ToolbarMatch","render","_vm","_h","$createElement","_c","_self","_e","staticClass","attrs","align","_v","_s","src","toString","variant","block","on","click","$event","icon","animation","font-scale","cols","cols-md","cols-lg","staticStyle","height","min","max","step","vertical","model","callback","$$v","expression","options","buttons","button-variant","stacked","_l","btn","key","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","Toolbar","selected","optionsG","optionsR","labelOptions","sort","specialText","special","optionsS","displayOptions","item","transScore","_item","Category","_item2","_item3","_item4","components_Toolbar"],"mappings":"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","file":"static/js/0.b00a4b9408f05d66018c.js","sourcesContent":["<template>\n  <div class=\"toolbar\" v-if=\"!toolbarShow\">\n    <div>\n\n      <div class=\"mt-2 bg-secondary p-2\">\n            <h2 class=\"text-sand\" align=\"center\">\n              {{ testType }}\n            </h2>\n      </div>\n      <div class=\"mt-2 bg-info p-2\">\n             <b-avatar :src=\"s3 + p1.toString() + '.jpg'\" :text=\"p1name[0]\" class=\"mr-3\" variant='p1'></b-avatar>\n              <span class=\"mr-auto\">{{ p1name }}</span>\n             <b-avatar :src=\"s3 + p2.toString() + '.jpg'\" :text=\"p2name[0]\" class=\"mr-3\" variant='p2'></b-avatar>\n              <span class=\"mr-auto\">{{ p2name }}</span>\n      </div>\n      <div class=\"bg-primary p-2 mt-0\">\n        <b-row>\n          <b-col>\n            <b-button :variant=\"player\" block class=\"md-3\" @click=\"playerReady(), waiting=1\">Ready</b-button>\n          </b-col>\n        </b-row>\n      </div>\n\n      <b-card v-if=\"waiting === 1\" align=\"center\">\n        <b-icon icon=\"three-dots\" animation=\"cylon\" font-scale=\"6\" :variant=\"player\"></b-icon>\n      </b-card>\n\n      <b-card v-if=\"waiting === 2\" align=\"center\">\n        <b-icon icon=\"caret-right-square-fill\" animation=\"throb\" font-scale=\"6\" :variant=\"player\"></b-icon>\n      </b-card>\n\n      <div class=\"bg-grey p-2 pb-4\" v-if=\"waiting === 0 && player==='p1'\">\n        <b-row cols=\"2\" cols-md=\"4\" cols-lg=\"6\" >\n          <b-col class=\"mt-3\">\n              <h6 align=\"center\">Words</h6>\n              <!--<div align=\"center\" class=\"d-block d-lg-none\">\n                <b-form-spinbutton v-model=\"words\" min=\"6\" max=\"30\" step=2 ></b-form-spinbutton>\n              </div> -->\n              <div align=\"center\">\n                <b-form-spinbutton v-model=\"words\" min=\"6\" max=\"30\" step=2 vertical style=\"height:125px\"></b-form-spinbutton>\n              </div>\n            </b-col>\n\n          <b-col class=\"mt-3\" v-if=\"testType === 'TransEng' || testType === 'TransCh'\">\n              <h6 align=\"center\">Choices</h6>\n              <!-- <div align=\"center\" class=\"d-block d-lg-none\">\n                <b-form-spinbutton v-model=\"choices\" min=\"2\" max=\"6\" ></b-form-spinbutton>\n              </div>-->\n              <div align=\"center\">\n                <b-form-spinbutton v-model=\"choices\" min=\"2\" max=\"6\" vertical style=\"height:125px\"></b-form-spinbutton>\n              </div>\n          </b-col>\n          <!--\n          <b-col class=\"mt-3\">\n            <h6 align=\"center\">Sound</h6>\n            <div align=\"center\">\n              <b-form-radio-group\n                v-model=\"sound\"\n                :options=\"soundOptions\"\n                button-variant=\"outline-danger\"\n                buttons\n                class=\"radioBTN\"\n                stacked\n              ></b-form-radio-group>\n            </div>\n          </b-col>\n          -->\n\n          <b-col class=\"mt-3\" v-if=\"testType === 'TypeTest'\">\n             <h6 align=\"center\">Feedback</h6>\n             <div align=\"center\">\n              <b-form-radio-group\n              v-model=\"feedback\"\n              :options=\"feedbackOptions\"\n              buttons\n              button-variant=\"outline-primary\"\n              stacked\n            ></b-form-radio-group>\n            </div>\n          </b-col>\n\n          <b-col class=\"mt-3\" v-if=\"testType === 'TypeTest'\">\n            <h6 align=\"center\"> Spelling </h6>\n            <div align=\"center\">\n            <b-dropdown :text=\"spellingText\">\n              <div>\n                  <b-dropdown-item v-for=\"(btn, index) in optionsO\" :key=\"index\" @click=\"spelling=btn.value; spellingText=btn.text \"> {{ btn.text }} </b-dropdown-item>\n              </div>\n            </b-dropdown>\n            </div>\n          </b-col>\n\n        </b-row>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getTypos, wordFix } from '@/utils'\n\nexport default {\n  name: 'ToolbarMatch',\n  props: {\n    toolbarShow: Boolean,\n    showToolbar: Boolean,\n    showAnswers: Boolean,\n    testType: String,\n    p1: Number,\n    p1name: String,\n    p2: Number,\n    p2name: String,\n    player: String,\n    waiting: Number,\n    socket: Object\n  },\n  data () {\n    return {\n      s3: 'https://vocab-lms.s3-ap-northeast-1.amazonaws.com/public/profiles/',\n      wordsReset: '6',\n      words: 6,\n      choices: 4,\n      retry: false,\n      testItemsRoot: [],\n      amendedList: [],\n      toolbarSettings: {},\n      optionsA: [{ value: null, text: '---' }],\n      sound: 'sdEx',\n      soundOptions: [\n        { text: 'exam mode', value: 'sdEx' },\n        { text: 'auto play', value: 'sdOn' },\n        { text: 'None', value: 'sdOff' }\n      ],\n      spelling: null,\n      spellingText: '-----',\n      optionsO: [\n        { value: null, text: '---' },\n        { value: 'const', text: 'show vowels' },\n        { value: 'vowels', text: 'show consonants' },\n        { value: 'blanks', text: 'show blanks' },\n        { value: 'all', text: 'show all' },\n        { value: 'showFL', text: 'show words' },\n        { value: 'typos', text: 'typos' },\n        { value: 'scramble', text: 'scramble letter' }\n      ],\n      feedback: 'fbConst',\n      feedbackOptions: [\n        { text: 'Constant', value: 'fbConst' },\n        { text: 'Complete', value: 'fbComp' },\n        { text: 'None', value: 'fbNone' }\n      ]\n    }\n  },\n  methods: {\n    makeTest: function () {\n      // reset variables\n      // console.log('make test', this.sort)\n      this.testItemsRoot = []\n\n      // prepare amended list\n      let vocabList = JSON.parse(this.stringItems)\n      this.amendedList = vocabList\n\n      if (this.testType === 'TypeTest') {\n        this.makeSpelling()\n      } else {\n        this.makeChoices()\n      }\n    },\n    makeChoices: function () {\n      let i = 0\n      while (i < this.words) {\n        var randomItem = this.amendedList[Math.floor(Math.random() * this.amendedList.length)]\n        // console.log(this.testItems, randomItem)\n        if (!this.checkDuplicate(randomItem)) {\n          console.log('pass', randomItem)\n        } else {\n          let choices = [{\n            English: randomItem.English,\n            Chinese: randomItem.Chinese,\n            Gr: randomItem.Gr,\n            sdEn: randomItem.mp3en,\n            sdCh: randomItem.mp3ch\n          }]\n          let j = 1\n          while (j < this.choices) {\n            if (this.sound === 'sdTy') {\n              choices.push({\n                English: this.typoFix(randomItem.English),\n                Gr: randomItem.Gr,\n                sdEn: randomItem.mp3en,\n                sdCh: randomItem.mp3ch,\n                Chinese: randomItem.Chinese\n              })\n              j++\n            } else {\n              let randomChoice = this.amendedList[Math.floor(Math.random() * this.amendedList.length)]\n\n              if (!choices.includes(randomChoice)) {\n                choices.push({\n                  English: randomChoice.English,\n                  Chinese: randomChoice.Chinese,\n                  Gr: randomChoice.Gr,\n                  sdEn: randomChoice.mp3en,\n                  sdCh: randomChoice.mp3ch\n                })\n                j++\n              }\n            }\n          }\n          let shuffChoices = this.shuffle(choices)\n          this.testItemsRoot.push({\n            English: randomItem.English,\n            Chinese: randomItem.Chinese,\n            Choices: shuffChoices,\n            Gr: randomItem.Gr,\n            sdEn: randomItem.mp3en,\n            sdCh: randomItem.mp3ch\n          })\n          i++\n        }\n      }\n\n      this.toolbarSettings = {\n        type: this.testType,\n        sound: this.sound,\n        words: this.words,\n        choices: this.choices\n      }\n\n      this.socket.emit('ready', {room: this.p1, player: this.player, testItems: this.testItemsRoot})\n      console.log(this.testItemsRoot)\n\n      if (this.words < 6) {\n        this.words = parseInt(this.wordsReset)\n      }\n    },\n    makeSpelling: function () {\n      let i = 0\n      while (i < this.words) {\n        var randomItem = this.amendedList[Math.floor(Math.random() * this.amendedList.length)]\n        // console.log(this.testItems, randomItem)\n        if (!this.checkDuplicate(randomItem)) {\n          console.log('pass', randomItem)\n        } else {\n          // CHANGE MADE new code for spelling set up\n          let spell = '              '\n          if (this.spelling) {\n            spell = wordFix(randomItem.English, this.spelling)\n          }\n\n          console.log('SPELL', spell)\n          this.testItemsRoot.push({\n            English: randomItem.English,\n            Chinese: randomItem.Chinese,\n            Spelling: spell,\n            Gr: randomItem.Gr,\n            sdEn: randomItem.mp3en,\n            sdCh: randomItem.mp3ch\n          })\n          i++\n        }\n      }\n\n      this.toolbarSettings = {\n        type: this.testType,\n        sound: this.sound,\n        label: this.label,\n        words: this.words,\n        choices: this.choices,\n        spelling: this.spelling,\n        display: this.display,\n        feedback: this.feedback\n      }\n\n      this.$emit('newTest', {\n        test: this.testItemsRoot,\n        settings: JSON.stringify(this.toolbarSettings)\n      })\n\n      this.socket.emit('ready', {room: this.p1, player: this.player, testItems: this.testItemsRoot})\n      console.log(this.testItemsRoot)\n\n      if (this.words < 6) {\n        this.words = parseInt(this.wordsReset)\n      }\n    },\n    typoFix: function (english) {\n      // console.log('typos', english)\n      let words = english.split(' ')\n      let newString = ''\n      for (let index in words) {\n        newString += getTypos(words[index])\n        newString += ' '\n      }\n      return newString\n    },\n    retryTest: function () {\n      this.$emit('retry', null)\n    },\n    alphabet: function () {\n      let alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n      for (let letter in alphabet) {\n        this.optionsA.push({ value: alphabet[letter], text: alphabet[letter] })\n      }\n    },\n    checkDuplicate: function (rand) {\n      for (let testEntry in this.testItems) {\n        //  console.log(this.testItems[testEntry].English, rand.English)\n        if (this.testItems[testEntry].English === rand.English) {\n          console.log('found', rand)\n          return false\n        }\n      }\n      return true\n    },\n    shuffle: function (array) {\n      // Fisher-Yates shuffle\n      for (let i = array.length - 1; i > 0; i--) {\n        let j = Math.floor(Math.random() * (i + 1)); // random index from 0 to i\n        [array[i], array[j]] = [array[j], array[i]]\n      }\n      return array\n    },\n    goTo: function (arg) {\n      this.$router.push(arg)\n    },\n    playerReady: function () {\n      if (this.player === 'p1') {\n        this.makeTest()\n      } else {\n        this.socket.emit('ready', {room: this.p1, player: this.player, testItems: this.testItemsRoot})\n      }\n    }\n  },\n  watch: {\n    words: function () {\n      if (this.words === 0) {\n        alert('There are no words that meet your selection')\n        this.words = parseInt(this.wordsReset)\n      }\n    }\n  },\n  created () {\n    this.alphabet()\n    this.tableItems = this.$store.getters.makeList\n    this.stringItems = JSON.stringify(this.tableItems)\n\n    if (this.testType === 'TransCh') {\n      this.sortOptions.pop()\n      this.soundOptions = [\n        { text: 'exam mode', value: 'sdEx' },\n        { text: 'typo check', value: 'sdTy' },\n        { text: 'off', value: 'sdOff' }\n      ]\n    }\n\n    if (this.testType === 'TypeTest') {\n      this.sound = 'sdEn'\n      this.soundOptions = [\n        { text: 'English', value: 'sdEn' },\n        { text: 'Chinese', value: 'sdCh' },\n        { text: 'None', value: 'sdOff' }\n      ]\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n.form-control {\n  background-color:lightgrey;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ToolbarMatch.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.toolbarShow)?_c('div',{staticClass:\"toolbar\"},[_c('div',[_c('div',{staticClass:\"mt-2 bg-secondary p-2\"},[_c('h2',{staticClass:\"text-sand\",attrs:{\"align\":\"center\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.testType)+\"\\n          \")])]),_vm._v(\" \"),_c('div',{staticClass:\"mt-2 bg-info p-2\"},[_c('b-avatar',{staticClass:\"mr-3\",attrs:{\"src\":_vm.s3 + _vm.p1.toString() + '.jpg',\"text\":_vm.p1name[0],\"variant\":\"p1\"}}),_vm._v(\" \"),_c('span',{staticClass:\"mr-auto\"},[_vm._v(_vm._s(_vm.p1name))]),_vm._v(\" \"),_c('b-avatar',{staticClass:\"mr-3\",attrs:{\"src\":_vm.s3 + _vm.p2.toString() + '.jpg',\"text\":_vm.p2name[0],\"variant\":\"p2\"}}),_vm._v(\" \"),_c('span',{staticClass:\"mr-auto\"},[_vm._v(_vm._s(_vm.p2name))])],1),_vm._v(\" \"),_c('div',{staticClass:\"bg-primary p-2 mt-0\"},[_c('b-row',[_c('b-col',[_c('b-button',{staticClass:\"md-3\",attrs:{\"variant\":_vm.player,\"block\":\"\"},on:{\"click\":function($event){_vm.playerReady(), _vm.waiting=1}}},[_vm._v(\"Ready\")])],1)],1)],1),_vm._v(\" \"),(_vm.waiting === 1)?_c('b-card',{attrs:{\"align\":\"center\"}},[_c('b-icon',{attrs:{\"icon\":\"three-dots\",\"animation\":\"cylon\",\"font-scale\":\"6\",\"variant\":_vm.player}})],1):_vm._e(),_vm._v(\" \"),(_vm.waiting === 2)?_c('b-card',{attrs:{\"align\":\"center\"}},[_c('b-icon',{attrs:{\"icon\":\"caret-right-square-fill\",\"animation\":\"throb\",\"font-scale\":\"6\",\"variant\":_vm.player}})],1):_vm._e(),_vm._v(\" \"),(_vm.waiting === 0 && _vm.player==='p1')?_c('div',{staticClass:\"bg-grey p-2 pb-4\"},[_c('b-row',{attrs:{\"cols\":\"2\",\"cols-md\":\"4\",\"cols-lg\":\"6\"}},[_c('b-col',{staticClass:\"mt-3\"},[_c('h6',{attrs:{\"align\":\"center\"}},[_vm._v(\"Words\")]),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[_c('b-form-spinbutton',{staticStyle:{\"height\":\"125px\"},attrs:{\"min\":\"6\",\"max\":\"30\",\"step\":\"2\",\"vertical\":\"\"},model:{value:(_vm.words),callback:function ($$v) {_vm.words=$$v},expression:\"words\"}})],1)]),_vm._v(\" \"),(_vm.testType === 'TransEng' || _vm.testType === 'TransCh')?_c('b-col',{staticClass:\"mt-3\"},[_c('h6',{attrs:{\"align\":\"center\"}},[_vm._v(\"Choices\")]),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[_c('b-form-spinbutton',{staticStyle:{\"height\":\"125px\"},attrs:{\"min\":\"2\",\"max\":\"6\",\"vertical\":\"\"},model:{value:(_vm.choices),callback:function ($$v) {_vm.choices=$$v},expression:\"choices\"}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.testType === 'TypeTest')?_c('b-col',{staticClass:\"mt-3\"},[_c('h6',{attrs:{\"align\":\"center\"}},[_vm._v(\"Feedback\")]),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[_c('b-form-radio-group',{attrs:{\"options\":_vm.feedbackOptions,\"buttons\":\"\",\"button-variant\":\"outline-primary\",\"stacked\":\"\"},model:{value:(_vm.feedback),callback:function ($$v) {_vm.feedback=$$v},expression:\"feedback\"}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.testType === 'TypeTest')?_c('b-col',{staticClass:\"mt-3\"},[_c('h6',{attrs:{\"align\":\"center\"}},[_vm._v(\" Spelling \")]),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[_c('b-dropdown',{attrs:{\"text\":_vm.spellingText}},[_c('div',_vm._l((_vm.optionsO),function(btn,index){return _c('b-dropdown-item',{key:index,on:{\"click\":function($event){_vm.spelling=btn.value; _vm.spellingText=btn.text}}},[_vm._v(\" \"+_vm._s(btn.text)+\" \")])}),1)])],1)]):_vm._e()],1)],1):_vm._e()],1)]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-412d85c8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ToolbarMatch.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-412d85c8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ToolbarMatch.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ToolbarMatch.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ToolbarMatch.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-412d85c8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ToolbarMatch.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-412d85c8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ToolbarMatch.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"toolbar\" v-if=\"!toolbarShow\">\n    <div>\n\n      <div class=\"mt-2 bg-secondary p-2\">\n            <h2 class=\"text-sand\" align=\"center\">\n              {{ testType }}\n            </h2>\n      </div>\n      <div class=\"bg-primary p-2 mt-0\">\n        <b-row>\n          <b-col>\n            <b-button variant=\"primary\" block class=\"md-3\" @click=\"makeTest(), showToolbar=false\">Start</b-button>\n          </b-col>\n          <b-col v-if=\"showAnswers\">\n            <b-button  variant=\"warning\" block class=\"md-3\" @click=\"retryTest()\">Retry</b-button>\n          </b-col>\n          <b-col>\n            <b-button variant=\"info\" block class=\"md-3\" @click=\"showToolbar=true\">Settings</b-button>\n          </b-col>\n        </b-row>\n      </div>\n\n      <div class=\"bg-grey p-2 pb-4\" v-if=\"showToolbar\">\n        <b-row cols=\"2\" cols-md=\"4\" cols-lg=\"6\" >\n          <b-col class=\"mt-3\">\n              <h6 align=\"center\">Words</h6>\n              <!--<div align=\"center\" class=\"d-block d-lg-none\">\n                <b-form-spinbutton v-model=\"words\" min=\"6\" max=\"30\" step=2 ></b-form-spinbutton>\n              </div> -->\n              <div align=\"center\">\n                <b-form-spinbutton v-model=\"words\" min=\"6\" max=\"30\" step=2 vertical style=\"height:125px\"></b-form-spinbutton>\n              </div>\n            </b-col>\n\n          <b-col class=\"mt-3\" v-if=\"testType === 'TransEng' || testType === 'TransCh'\">\n              <h6 align=\"center\">Choices</h6>\n              <!-- <div align=\"center\" class=\"d-block d-lg-none\">\n                <b-form-spinbutton v-model=\"choices\" min=\"2\" max=\"6\" ></b-form-spinbutton>\n              </div>-->\n              <div align=\"center\">\n                <b-form-spinbutton v-model=\"choices\" min=\"2\" max=\"6\" vertical style=\"height:125px\"></b-form-spinbutton>\n              </div>\n          </b-col>\n\n          <b-col class=\"mt-3\">\n            <h6 align=\"center\">Sound</h6>\n            <div align=\"center\">\n              <b-form-radio-group\n                v-model=\"sound\"\n                :options=\"soundOptions\"\n                button-variant=\"outline-danger\"\n                buttons\n                class=\"radioBTN\"\n                stacked\n              ></b-form-radio-group>\n            </div>\n          </b-col>\n\n          <b-col class=\"mt-3\" v-if=\"testType === 'TypeTest'\">\n             <h6 align=\"center\">Display</h6>\n            <div align=\"center\">\n              <b-form-radio-group\n              v-model=\"display\"\n              :options=\"displayOptions\"\n              buttons\n              button-variant=\"outline-primary\"\n              stacked\n            ></b-form-radio-group>\n            </div>\n          </b-col>\n\n          <b-col class=\"mt-3\" v-if=\"testType === 'TypeTest'\">\n             <h6 align=\"center\">Feedback</h6>\n             <div align=\"center\">\n              <b-form-radio-group\n              v-model=\"feedback\"\n              :options=\"feedbackOptions\"\n              buttons\n              button-variant=\"outline-primary\"\n              stacked\n            ></b-form-radio-group>\n            </div>\n          </b-col>\n\n          <b-col class=\"mt-3\" v-if=\"testType === 'TransEng' || testType === 'TransCh'\">\n            <h6 align=\"center\">Grammar</h6>\n            <div align=\"center\">\n              <b-form-radio-group\n                  v-model=\"label\"\n                  :options=\"labelOptions\"\n                  buttons\n                  button-variant=\"outline-primary\"\n                  stacked\n                ></b-form-radio-group>\n            </div>\n          </b-col>\n\n          <b-col class=\"mt-3\" v-if=\"testType === 'TransEng' || testType === 'TransCh'\">\n            <h6 align=\"center\"> Sort </h6>\n            <div align=\"center\">\n              <b-form-radio-group\n                v-model=\"sort\"\n                :options=\"sortOptions\"\n                buttons\n                button-variant=\"outline-primary\"\n                stacked\n              ></b-form-radio-group>\n            </div>\n          </b-col>\n          <b-col class=\"mt-3\" v-if=\"testType === 'TransEng' || testType === 'TransCh'\">\n            <div class=\"mt-5\"></div>\n            <b-form-select v-if=\"sort=='srtLet'\" class=\"selectColor\" v-model=\"selected\" :options=\"optionsA\" ></b-form-select>\n            <b-form-select v-if=\"sort=='srtGram'\" class=\"selectColor\" v-model=\"selected\" :options=\"optionsG\"></b-form-select>\n            <b-form-select v-if=\"sort=='srtDiff'\" class=\"selectColor\" v-model=\"selected\" :options=\"optionsR\"></b-form-select>\n          </b-col>\n\n          <b-col class=\"mt-3\" v-if=\"testType === 'TypeTest'\">\n            <h6 align=\"center\"> Spelling </h6>\n            <div align=\"center\">\n            <b-dropdown :text=\"spellingText\">\n              <div>\n                  <b-dropdown-item v-for=\"(btn, index) in optionsO\" :key=\"index\" @click=\"spelling=btn.value; spellingText=btn.text \"> {{ btn.text }} </b-dropdown-item>\n              </div>\n            </b-dropdown>\n            </div>\n          </b-col>\n\n          <b-col class=\"mt-3\" v-if=\"testType === 'TypeTest'\">\n            <h6 align=\"center\"> Sort </h6>\n            <div align=\"center\">\n            <b-dropdown :text=\"specialText\" variant=\"warning\">\n              <div>\n                  <b-dropdown-item v-for=\"(btn, index) in optionsS\" :key=\"index\" @click=\"special=btn.value; specialText=btn.text\"> {{ btn.text }} </b-dropdown-item>\n              </div>\n            </b-dropdown>\n            </div>\n          </b-col>\n        </b-row>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getTypos, wordFix } from '@/utils'\n\nexport default {\n  name: 'Toolbar',\n  props: {\n    toolbarShow: Boolean,\n    showAnswers: Boolean,\n    testType: String\n  },\n  data () {\n    return {\n      showToolbar: true,\n      wordsReset: '6',\n      words: 6,\n      choices: 4,\n      retry: false,\n      testItemsRoot: [],\n      amendedList: [],\n      selected: null,\n      toolbarSettings: {},\n      optionsA: [{ value: null, text: '---' }],\n      optionsG: [\n        { value: null, text: '---' },\n        { value: 'v.', text: 'verbs' },\n        { value: 'adj.', text: 'adjectives' },\n        { value: 'n.', text: 'nouns' },\n        { value: 'phr.', text: 'phrases' },\n        { value: 'abbr.', text: 'abbreviations' },\n        { value: 'prop.', text: 'proper nouns' }\n      ],\n      optionsR: [\n        { value: null, text: '---' },\n        { value: 0, text: 'neutral score' },\n        { value: 1, text: 'easier words' },\n        { value: -1, text: 'harder words' }\n      ],\n      label: 'lbAn',\n      labelOptions: [\n        { text: 'answer', value: 'lbAn' },\n        { text: 'question', value: 'lbQu' },\n        { text: 'all off', value: 'lbOff' },\n        { text: 'all on', value: 'lbOn' }\n      ],\n      sort: 'srtNone',\n      sortOptions: [\n        { text: 'none', value: 'srtNone' },\n        { text: 'difficulty', value: 'srtDiff' },\n        { text: 'grammar', value: 'srtGram' },\n        { text: 'letter', value: 'srtLet' }\n      ],\n      sound: 'sdEx',\n      soundOptions: [\n        { text: 'exam mode', value: 'sdEx' },\n        { text: 'auto play', value: 'sdOn' },\n        { text: 'None', value: 'sdOff' }\n      ],\n      spelling: null,\n      spellingText: '-----',\n      optionsO: [\n        { value: null, text: '---' },\n        { value: 'const', text: 'show vowels' },\n        { value: 'vowels', text: 'show consonants' },\n        { value: 'blanks', text: 'show blanks' },\n        { value: 'all', text: 'show all' },\n        { value: 'showFL', text: 'show words' },\n        { value: 'typos', text: 'typos' },\n        { value: 'scramble', text: 'scramble letter' }\n      ],\n      specialText: '-----',\n      special: null,\n      optionsS: [\n        { value: null, text: '---' },\n        { value: 'punc', text: 'punctuation' },\n        { value: 'phr.', text: 'phrases' },\n        { value: 'abbr.', text: 'abbreviations' },\n        { value: 'prop.', text: 'proper nouns' }\n      ],\n      display: 'ch_text_On',\n      displayOptions: [\n        { text: 'Chinese', value: 'ch_text_On' },\n        { text: 'Label', value: 'ch_lb_On' },\n        { text: 'None', value: 'ch_lb_Off' }\n      ],\n      feedback: 'fbConst',\n      feedbackOptions: [\n        { text: 'Constant', value: 'fbConst' },\n        { text: 'Complete', value: 'fbComp' },\n        { text: 'None', value: 'fbNone' }\n      ]\n    }\n  },\n  methods: {\n    makeTest: function () {\n      // reset variables\n      // console.log('make test', this.sort)\n      this.testItemsRoot = []\n\n      // prepare amended list\n      let vocabList = JSON.parse(this.stringItems)\n      this.amendedList = []\n\n      if (this.sort === 'srtNone' && this.special === null) {\n        this.amendedList = vocabList\n      } else if (this.sort === 'srtDiff') {\n        for (let item in vocabList) {\n          if (this.selected === 0 && vocabList[item].transScore === 0) {\n            this.amendedList.push(vocabList[item])\n          }\n          if (this.selected === 0 && vocabList[item].transScore === null) {\n            this.amendedList.push(vocabList[item])\n          }\n          if (this.selected === -1 && vocabList[item].transScore <= -1) {\n            this.amendedList.push(vocabList[item])\n          }\n          if (this.selected === 1 && vocabList[item].transScore >= 1) {\n            this.amendedList.push(vocabList[item])\n          }\n        }\n      } else if (this.sort === 'srtLet') {\n        for (let item in vocabList) {\n          if (vocabList[item].Category === this.selected) {\n            this.amendedList.push(vocabList[item])\n          }\n        }\n      } else if (this.sort === 'srtGram') {\n        for (let item in vocabList) {\n          if (vocabList[item].Gr === this.selected) {\n            this.amendedList.push(vocabList[item])\n          }\n        }\n      } else if (this.special === 'phr.' || this.special === 'abbr.' || this.special === 'prop.') {\n        for (let item in vocabList) {\n          if (vocabList[item].Gr === this.special) {\n            this.amendedList.push(vocabList[item])\n          }\n        }\n      } else if (this.special === 'punc') {\n        for (let item in vocabList) {\n          if (vocabList[item].English.includes('-') ||\n              vocabList[item].English.includes(\"'\") ||\n              vocabList[item].English.includes('&') ||\n              vocabList[item].English.includes('.')) {\n            this.amendedList.push(vocabList[item])\n          }\n        }\n      }\n\n      // check there are enought words available\n      if (this.amendedList.length < this.words) {\n        this.words = this.amendedList.length\n        // console.log('few words', this.amendedList)\n      }\n\n      if (this.testType === 'TypeTest') {\n        this.makeSpelling()\n      } else {\n        this.makeChoices()\n      }\n    },\n    makeChoices: function () {\n      let i = 0\n      while (i < this.words) {\n        var randomItem = this.amendedList[Math.floor(Math.random() * this.amendedList.length)]\n        // console.log(this.testItems, randomItem)\n        if (!this.checkDuplicate(randomItem)) {\n          console.log('pass', randomItem)\n        } else {\n          let choices = [{\n            English: randomItem.English,\n            Chinese: randomItem.Chinese,\n            Gr: randomItem.Gr,\n            sdEn: randomItem.mp3en,\n            sdCh: randomItem.mp3ch\n          }]\n          let j = 1\n          while (j < this.choices) {\n            if (this.sound === 'sdTy') {\n              choices.push({\n                English: this.typoFix(randomItem.English),\n                Gr: randomItem.Gr,\n                sdEn: randomItem.mp3en,\n                sdCh: randomItem.mp3ch,\n                Chinese: randomItem.Chinese\n              })\n              j++\n            } else {\n              let randomChoice = this.amendedList[Math.floor(Math.random() * this.amendedList.length)]\n\n              if (!choices.includes(randomChoice)) {\n                choices.push({\n                  English: randomChoice.English,\n                  Chinese: randomChoice.Chinese,\n                  Gr: randomChoice.Gr,\n                  sdEn: randomChoice.mp3en,\n                  sdCh: randomChoice.mp3ch\n                })\n                j++\n              }\n            }\n          }\n          let shuffChoices = this.shuffle(choices)\n          this.testItemsRoot.push({\n            English: randomItem.English,\n            Chinese: randomItem.Chinese,\n            Choices: shuffChoices,\n            Gr: randomItem.Gr,\n            sdEn: randomItem.mp3en,\n            sdCh: randomItem.mp3ch\n          })\n          i++\n        }\n      }\n\n      this.toolbarSettings = {\n        type: this.testType,\n        sound: this.sound,\n        label: this.label,\n        sort: this.sort,\n        words: this.words,\n        choices: this.choices,\n        selected: this.selected\n      }\n\n      // console.log(this.testItemsRoot)\n\n      this.$emit('newTest', {\n        test: this.testItemsRoot,\n        settings: JSON.stringify(this.toolbarSettings)\n      })\n\n      if (this.words < 6) {\n        this.words = parseInt(this.wordsReset)\n      }\n    },\n    makeSpelling: function () {\n      let i = 0\n      while (i < this.words) {\n        var randomItem = this.amendedList[Math.floor(Math.random() * this.amendedList.length)]\n        // console.log(this.testItems, randomItem)\n        if (!this.checkDuplicate(randomItem)) {\n          console.log('pass', randomItem)\n        } else {\n          // CHANGE MADE new code for spelling set up\n          let spell = '              '\n          if (this.spelling) {\n            spell = wordFix(randomItem.English, this.spelling)\n          }\n\n          console.log('SPELL', spell)\n          this.testItemsRoot.push({\n            English: randomItem.English,\n            Chinese: randomItem.Chinese,\n            Spelling: spell,\n            Gr: randomItem.Gr,\n            sdEn: randomItem.mp3en,\n            sdCh: randomItem.mp3ch\n          })\n          i++\n        }\n      }\n\n      this.toolbarSettings = {\n        type: this.testType,\n        sound: this.sound,\n        label: this.label,\n        words: this.words,\n        choices: this.choices,\n        spelling: this.spelling,\n        display: this.display,\n        feedback: this.feedback\n      }\n\n      this.$emit('newTest', {\n        test: this.testItemsRoot,\n        settings: JSON.stringify(this.toolbarSettings)\n      })\n\n      if (this.words < 6) {\n        this.words = parseInt(this.wordsReset)\n      }\n    },\n    typoFix: function (english) {\n      // console.log('typos', english)\n      let words = english.split(' ')\n      let newString = ''\n      for (let index in words) {\n        newString += getTypos(words[index])\n        newString += ' '\n      }\n      return newString\n    },\n    retryTest: function () {\n      this.$emit('retry', null)\n    },\n    alphabet: function () {\n      let alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n      for (let letter in alphabet) {\n        this.optionsA.push({ value: alphabet[letter], text: alphabet[letter] })\n      }\n    },\n    checkDuplicate: function (rand) {\n      for (let testEntry in this.testItems) {\n        //  console.log(this.testItems[testEntry].English, rand.English)\n        if (this.testItems[testEntry].English === rand.English) {\n          console.log('found', rand)\n          return false\n        }\n      }\n      return true\n    },\n    shuffle: function (array) {\n      // Fisher-Yates shuffle\n      for (let i = array.length - 1; i > 0; i--) {\n        let j = Math.floor(Math.random() * (i + 1)); // random index from 0 to i\n        [array[i], array[j]] = [array[j], array[i]]\n      }\n      return array\n    },\n    goTo: function (arg) {\n      this.$router.push(arg)\n    }\n  },\n  watch: {\n    words: function () {\n      if (this.words === 0) {\n        alert('There are no words that meet your selection')\n        this.words = parseInt(this.wordsReset)\n      }\n    }\n  },\n  created () {\n    this.alphabet()\n    this.tableItems = this.$store.getters.makeList\n    this.stringItems = JSON.stringify(this.tableItems)\n\n    if (this.testType === 'TransCh') {\n      this.sortOptions.pop()\n      this.soundOptions = [\n        { text: 'exam mode', value: 'sdEx' },\n        { text: 'typo check', value: 'sdTy' },\n        { text: 'off', value: 'sdOff' }\n      ]\n    }\n\n    if (this.testType === 'TypeTest') {\n      this.sound = 'sdEn'\n      this.soundOptions = [\n        { text: 'English', value: 'sdEn' },\n        { text: 'Chinese', value: 'sdCh' },\n        { text: 'None', value: 'sdOff' }\n      ]\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n.form-control {\n  background-color:lightgrey;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Toolbar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.toolbarShow)?_c('div',{staticClass:\"toolbar\"},[_c('div',[_c('div',{staticClass:\"mt-2 bg-secondary p-2\"},[_c('h2',{staticClass:\"text-sand\",attrs:{\"align\":\"center\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.testType)+\"\\n          \")])]),_vm._v(\" \"),_c('div',{staticClass:\"bg-primary p-2 mt-0\"},[_c('b-row',[_c('b-col',[_c('b-button',{staticClass:\"md-3\",attrs:{\"variant\":\"primary\",\"block\":\"\"},on:{\"click\":function($event){_vm.makeTest(), _vm.showToolbar=false}}},[_vm._v(\"Start\")])],1),_vm._v(\" \"),(_vm.showAnswers)?_c('b-col',[_c('b-button',{staticClass:\"md-3\",attrs:{\"variant\":\"warning\",\"block\":\"\"},on:{\"click\":function($event){return _vm.retryTest()}}},[_vm._v(\"Retry\")])],1):_vm._e(),_vm._v(\" \"),_c('b-col',[_c('b-button',{staticClass:\"md-3\",attrs:{\"variant\":\"info\",\"block\":\"\"},on:{\"click\":function($event){_vm.showToolbar=true}}},[_vm._v(\"Settings\")])],1)],1)],1),_vm._v(\" \"),(_vm.showToolbar)?_c('div',{staticClass:\"bg-grey p-2 pb-4\"},[_c('b-row',{attrs:{\"cols\":\"2\",\"cols-md\":\"4\",\"cols-lg\":\"6\"}},[_c('b-col',{staticClass:\"mt-3\"},[_c('h6',{attrs:{\"align\":\"center\"}},[_vm._v(\"Words\")]),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[_c('b-form-spinbutton',{staticStyle:{\"height\":\"125px\"},attrs:{\"min\":\"6\",\"max\":\"30\",\"step\":\"2\",\"vertical\":\"\"},model:{value:(_vm.words),callback:function ($$v) {_vm.words=$$v},expression:\"words\"}})],1)]),_vm._v(\" \"),(_vm.testType === 'TransEng' || _vm.testType === 'TransCh')?_c('b-col',{staticClass:\"mt-3\"},[_c('h6',{attrs:{\"align\":\"center\"}},[_vm._v(\"Choices\")]),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[_c('b-form-spinbutton',{staticStyle:{\"height\":\"125px\"},attrs:{\"min\":\"2\",\"max\":\"6\",\"vertical\":\"\"},model:{value:(_vm.choices),callback:function ($$v) {_vm.choices=$$v},expression:\"choices\"}})],1)]):_vm._e(),_vm._v(\" \"),_c('b-col',{staticClass:\"mt-3\"},[_c('h6',{attrs:{\"align\":\"center\"}},[_vm._v(\"Sound\")]),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[_c('b-form-radio-group',{staticClass:\"radioBTN\",attrs:{\"options\":_vm.soundOptions,\"button-variant\":\"outline-danger\",\"buttons\":\"\",\"stacked\":\"\"},model:{value:(_vm.sound),callback:function ($$v) {_vm.sound=$$v},expression:\"sound\"}})],1)]),_vm._v(\" \"),(_vm.testType === 'TypeTest')?_c('b-col',{staticClass:\"mt-3\"},[_c('h6',{attrs:{\"align\":\"center\"}},[_vm._v(\"Display\")]),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[_c('b-form-radio-group',{attrs:{\"options\":_vm.displayOptions,\"buttons\":\"\",\"button-variant\":\"outline-primary\",\"stacked\":\"\"},model:{value:(_vm.display),callback:function ($$v) {_vm.display=$$v},expression:\"display\"}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.testType === 'TypeTest')?_c('b-col',{staticClass:\"mt-3\"},[_c('h6',{attrs:{\"align\":\"center\"}},[_vm._v(\"Feedback\")]),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[_c('b-form-radio-group',{attrs:{\"options\":_vm.feedbackOptions,\"buttons\":\"\",\"button-variant\":\"outline-primary\",\"stacked\":\"\"},model:{value:(_vm.feedback),callback:function ($$v) {_vm.feedback=$$v},expression:\"feedback\"}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.testType === 'TransEng' || _vm.testType === 'TransCh')?_c('b-col',{staticClass:\"mt-3\"},[_c('h6',{attrs:{\"align\":\"center\"}},[_vm._v(\"Grammar\")]),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[_c('b-form-radio-group',{attrs:{\"options\":_vm.labelOptions,\"buttons\":\"\",\"button-variant\":\"outline-primary\",\"stacked\":\"\"},model:{value:(_vm.label),callback:function ($$v) {_vm.label=$$v},expression:\"label\"}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.testType === 'TransEng' || _vm.testType === 'TransCh')?_c('b-col',{staticClass:\"mt-3\"},[_c('h6',{attrs:{\"align\":\"center\"}},[_vm._v(\" Sort \")]),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[_c('b-form-radio-group',{attrs:{\"options\":_vm.sortOptions,\"buttons\":\"\",\"button-variant\":\"outline-primary\",\"stacked\":\"\"},model:{value:(_vm.sort),callback:function ($$v) {_vm.sort=$$v},expression:\"sort\"}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.testType === 'TransEng' || _vm.testType === 'TransCh')?_c('b-col',{staticClass:\"mt-3\"},[_c('div',{staticClass:\"mt-5\"}),_vm._v(\" \"),(_vm.sort=='srtLet')?_c('b-form-select',{staticClass:\"selectColor\",attrs:{\"options\":_vm.optionsA},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}):_vm._e(),_vm._v(\" \"),(_vm.sort=='srtGram')?_c('b-form-select',{staticClass:\"selectColor\",attrs:{\"options\":_vm.optionsG},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}):_vm._e(),_vm._v(\" \"),(_vm.sort=='srtDiff')?_c('b-form-select',{staticClass:\"selectColor\",attrs:{\"options\":_vm.optionsR},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.testType === 'TypeTest')?_c('b-col',{staticClass:\"mt-3\"},[_c('h6',{attrs:{\"align\":\"center\"}},[_vm._v(\" Spelling \")]),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[_c('b-dropdown',{attrs:{\"text\":_vm.spellingText}},[_c('div',_vm._l((_vm.optionsO),function(btn,index){return _c('b-dropdown-item',{key:index,on:{\"click\":function($event){_vm.spelling=btn.value; _vm.spellingText=btn.text}}},[_vm._v(\" \"+_vm._s(btn.text)+\" \")])}),1)])],1)]):_vm._e(),_vm._v(\" \"),(_vm.testType === 'TypeTest')?_c('b-col',{staticClass:\"mt-3\"},[_c('h6',{attrs:{\"align\":\"center\"}},[_vm._v(\" Sort \")]),_vm._v(\" \"),_c('div',{attrs:{\"align\":\"center\"}},[_c('b-dropdown',{attrs:{\"text\":_vm.specialText,\"variant\":\"warning\"}},[_c('div',_vm._l((_vm.optionsS),function(btn,index){return _c('b-dropdown-item',{key:index,on:{\"click\":function($event){_vm.special=btn.value; _vm.specialText=btn.text}}},[_vm._v(\" \"+_vm._s(btn.text)+\" \")])}),1)])],1)]):_vm._e()],1)],1):_vm._e()])]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14281731\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Toolbar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14281731\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Toolbar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Toolbar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Toolbar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14281731\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Toolbar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-14281731\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Toolbar.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}